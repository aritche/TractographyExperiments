<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="en">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en">
<![endif]-->
<!--[if !(IE 6) & !(IE 7) & !(IE 8)]><!-->
<html lang="en"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>The NIFTI file format | Brainder.</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="stylesheet" type="text/css" media="all" href="nifti_header_info_files/style_002.css">
<link rel="pingback" href="https://brainder.org/xmlrpc.php">
<!--[if lt IE 9]>
<script src="https://s0.wp.com/wp-content/themes/pub/twentyeleven/js/html5.js" type="text/javascript"></script>
<![endif]-->
<meta name="google-site-verification" content="aRd-VapocupgZTsGB6LwMKE7JTX2icoa159PyqzKjVc">
<meta name="msvalidate.01" content="D7EAA444DF89D38B2E0F59D05E666D2A">
<meta name="p:domain_verify" content="2b797f8c04ca0c8c89fc97730d635ce5">
<meta name="yandex-verification" content="df68fe3f214b2804">

<!-- Async WordPress.com Remote Login -->
<script id="twitter-wjs" src="nifti_header_info_files/widgets.js"></script><script type="text/javascript" async="" src="nifti_header_info_files/recaptcha__en.js"></script><script id="wpcom_remote_login_js">
var wpcom_remote_login_extra_auth = '';
function wpcom_remote_login_remove_dom_node_id( element_id ) {
	var dom_node = document.getElementById( element_id );
	if ( dom_node ) { dom_node.remove(); }
}
function wpcom_remote_login_remove_dom_node_classes( class_name ) {
	var dom_nodes = document.querySelectorAll( '.' + class_name );
	for ( var i = 0; i < dom_nodes.length; i++ ) {
		dom_nodes[i].remove();
	}
}
function wpcom_remote_login_final_cleanup() {
	wpcom_remote_login_remove_dom_node_classes( "wpcom_remote_login_msg" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_key" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_validate" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_js" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_request_access_iframe" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_request_access_styles" );
}

// Watch for messages back from the remote login
window.addEventListener( "message", function( e ) {
	if ( e.origin === "https://r-login.wordpress.com" ) {
		var data = {};
		try {
			data = JSON.parse( e.data );
		} catch( e ) {
			wpcom_remote_login_final_cleanup();
			return;
		}

		if ( data.msg === 'LOGIN' ) {
			// Clean up the login check iframe
			wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_key" );

			var id_regex = new RegExp( /^[0-9]+$/ );
			var token_regex = new RegExp( /^.*|.*|.*$/ );
			if (
				token_regex.test( data.token )
				&& id_regex.test( data.wpcomid )
			) {
				// We have everything we need to ask for a login
				var script = document.createElement( "script" );
				script.setAttribute( "id", "wpcom_remote_login_validate" );
				script.src = '/remote-login.php?wpcom_remote_login=validate'
					+ '&wpcomid=' + data.wpcomid
					+ '&token=' + encodeURIComponent( data.token )
					+ '&host=' + window.location.protocol
						+ '//' + window.location.hostname;
				document.body.appendChild( script );
			}

			return;
		}

		// Safari ITP, not logged in, so redirect
		if ( data.msg === 'LOGIN-REDIRECT' ) {
			window.location = 'https://wordpress.com/log-in?redirect_to=' + window.location.href;
			return;
		}

		// Safari ITP, storage access failed, remove the request
		if ( data.msg === 'LOGIN-REMOVE' ) {
			var css_zap = 'html { -webkit-transition: margin-top 1s; transition: margin-top 1s; } /* 9001 */ html { margin-top: 0 !important; } * html body { margin-top: 0 !important; } @media screen and ( max-width: 782px ) { html { margin-top: 0 !important; } * html body { margin-top: 0 !important; } }';
			var style_zap = document.createElement( 'style' );
			style_zap.type = 'text/css';
			style_zap.appendChild( document.createTextNode( css_zap ) );
			document.body.appendChild( style_zap );

			var e = document.getElementById( 'wpcom_request_access_iframe' );
			e.parentNode.removeChild( e );

			document.cookie = 'wordpress_com_login_access=denied; path=/; max-age=31536000';

			return;
		}

		// Safari ITP
		if ( data.msg === 'REQUEST_ACCESS' ) {
			console.log( 'request access: safari' );

			// Check ITP iframe enable/disable knob
			if ( wpcom_remote_login_extra_auth !== 'safari_itp_iframe' ) {
				return;
			}

			// If we are in a "private window" there is no ITP.
			var private_window = false;
			try {
				var opendb = window.openDatabase( null, null, null, null );
			} catch( e ) {
				private_window = true;
			}

			if ( private_window ) {
				console.log( 'private window' );
				return;
			}

			var iframe = document.createElement( 'iframe' );
			iframe.id = 'wpcom_request_access_iframe';
			iframe.setAttribute( 'scrolling', 'no' );
			iframe.setAttribute( 'sandbox', 'allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-top-navigation-by-user-activation' );
			iframe.src = 'https://r-login.wordpress.com/remote-login.php?wpcom_remote_login=request_access&origin=' + encodeURIComponent( data.origin ) + '&wpcomid=' + encodeURIComponent( data.wpcomid );

			var css = 'html { -webkit-transition: margin-top 1s; transition: margin-top 1s; } /* 9001 */ html { margin-top: 46px !important; } * html body { margin-top: 46px !important; } @media screen and ( max-width: 660px ) { html { margin-top: 71px !important; } * html body { margin-top: 71px !important; } #wpcom_request_access_iframe { display: block; height: 71px !important; } } #wpcom_request_access_iframe { border: 0px; height: 46px; position: fixed; top: 0; left: 0; width: 100%; min-width: 100%; z-index: 99999; background: #23282d; } ';

			var style = document.createElement( 'style' );
			style.type = 'text/css';
			style.id = 'wpcom_request_access_styles';
			style.appendChild( document.createTextNode( css ) );
			document.body.appendChild( style );

			document.body.appendChild( iframe );
		}

		if ( data.msg === 'DONE' ) {
			wpcom_remote_login_final_cleanup();
		}
	}
}, false );

// Inject the remote login iframe after the page has had a chance to load
// more critical resources
window.addEventListener( "DOMContentLoaded", function( e ) {
	var iframe = document.createElement( "iframe" );
	iframe.style.display = "none";
	iframe.setAttribute( "scrolling", "no" );
	iframe.setAttribute( "id", "wpcom_remote_login_key" );
	iframe.src = "https://r-login.wordpress.com/remote-login.php"
		+ "?wpcom_remote_login=key"
		+ "&origin=aHR0cHM6Ly9icmFpbmRlci5vcmc%3D"
		+ "&wpcomid=24487840"
		+ "&time=1592624969";
	document.body.appendChild( iframe );
}, false );
</script>
<link rel="dns-prefetch" href="https://s0.wp.com/">
<link rel="dns-prefetch" href="https://brainder.wordpress.com/">
<link rel="alternate" type="application/rss+xml" title="Brainder. » Feed" href="https://brainder.org/feed/">
<link rel="alternate" type="application/rss+xml" title="Brainder. » Comments Feed" href="https://brainder.org/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Brainder. » The NIFTI file&nbsp;format Comments Feed" href="https://brainder.org/2012/09/23/the-nifti-file-format/feed/">
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s0.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1582709031h&ver=5.4.2"}};
			/*! This file is auto-generated */
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="nifti_header_info_files/wp-emoji-release.js" type="text/javascript" defer="defer"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="all-css-0-1" href="nifti_header_info_files/a.css" type="text/css" media="all">
<style id="wp-block-library-inline-css">
.has-text-align-justify {
	text-align:justify;
}
</style>
<style id="global-styles-inline-css">
:root {
	--wp--preset--color--blue: #1982d1;
	--wp--preset--color--black: #000;
	--wp--preset--color--dark-gray: #373737;
	--wp--preset--color--medium-gray: #666;
	--wp--preset--color--light-gray: #e2e2e2;
	--wp--preset--color--white: #fff;
	--wp--preset--font-size--small: 13;
	--wp--preset--font-size--normal: 16;
	--wp--preset--font-size--medium: 20;
	--wp--preset--font-size--large: 36;
	--wp--preset--font-size--huge: 48;
	--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);
	--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);
	--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);
	--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);
	--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);
	--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);
	--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);
	--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);
	--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);
	--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);
	--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);
	--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);
}

</style>
<link rel="stylesheet" id="all-css-2-1" href="nifti_header_info_files/a_003.css" type="text/css" media="all">
<style id="jetpack-global-styles-frontend-style-inline-css">
:root { --font-headings: unset; --font-base: unset; --font-headings-default: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif; --font-base-default: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;}
</style>
<link rel="stylesheet" id="all-css-4-1" href="nifti_header_info_files/a_002.css" type="text/css" media="all">
<script>
var related_posts_js_options = {"post_heading":"h4"};
</script>
<script type="text/javascript" src="nifti_header_info_files/a.js"></script>
<link rel="stylesheet" id="all-css-0-2" href="nifti_header_info_files/style.css" type="text/css" media="all">
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='https://s0.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563h&#038;ver=20110606' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://brainder.wordpress.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s0.wp.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Brainder.org goes ad-free" href="https://brainder.org/2012/09/21/brainder-org-goes-ad-free/">
<link rel="next" title="Competition ranking and empirical&nbsp;distributions" href="https://brainder.org/2012/11/28/competition-ranking-and-empirical-distributions/">
<meta name="generator" content="WordPress.com">
<link rel="canonical" href="https://brainder.org/2012/09/23/the-nifti-file-format/">
<link rel="shortlink" href="https://wp.me/p1EKpa-ir">
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fbrainder.org%2F2012%2F09%2F23%2Fthe-nifti-file-format%2F&amp;for=wpcom-auto-discovery"><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fbrainder.org%2F2012%2F09%2F23%2Fthe-nifti-file-format%2F&amp;for=wpcom-auto-discovery">
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article">
<meta property="og:title" content="The NIFTI file format">
<meta property="og:url" content="https://brainder.org/2012/09/23/the-nifti-file-format/">
<meta property="og:description" content="(This article is about the nifti-1 file format. For an overview of how the nifti-2 differs from the nifti-1, see this one.) The Neuroimaging Informatics Technology Initiative (nifti) file format wa…">
<meta property="article:published_time" content="2012-09-23T16:43:35+00:00">
<meta property="article:modified_time" content="2017-09-06T17:47:06+00:00">
<meta property="og:site_name" content="Brainder.">
<meta property="og:image" content="https://s3.us-east-2.amazonaws.com/brainder/2012/nifti/slicetimingcodes_90dpi.png">
<meta property="og:image:width" content="513">
<meta property="og:image:height" content="297">
<meta property="og:locale" content="en_US">
<meta name="twitter:creator" content="@AndersonWinkler">
<meta name="twitter:site" content="@AndersonWinkler">
<meta name="twitter:text:title" content="The NIFTI file&nbsp;format">
<meta name="twitter:image" content="https://s3.us-east-2.amazonaws.com/brainder/2012/nifti/nifti.png?w=144">
<meta name="twitter:card" content="summary">
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom">

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/b75c72491241eee24301baf3c72f3448?s=32" sizes="16x16">
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/b75c72491241eee24301baf3c72f3448?s=32" sizes="16x16">
<link rel="apple-touch-icon" href="https://secure.gravatar.com/blavatar/b75c72491241eee24301baf3c72f3448?s=114">
<link rel="openid.server" href="https://brainder.org/?openidserver=1">
<link rel="openid.delegate" href="https://brainder.org/">
<link rel="search" type="application/opensearchdescription+xml" href="https://brainder.org/osd.xml" title="Brainder.">
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com">
	<style>
		/* Link color */
		a,
		#site-title a:focus,
		#site-title a:hover,
		#site-title a:active,
		.entry-title a:hover,
		.entry-title a:focus,
		.entry-title a:active,
		.widget_twentyeleven_ephemera .comments-link a:hover,
		section.recent-posts .other-recent-posts a[rel="bookmark"]:hover,
		section.recent-posts .other-recent-posts .comments-link a:hover,
		.format-image footer.entry-meta a:hover,
		#site-generator a:hover {
			color: #001e9e;
		}
		section.recent-posts .other-recent-posts .comments-link a:hover {
			border-color: #001e9e;
		}
		article.feature-image.small .entry-summary p a:hover,
		.entry-header .comments-link a:hover,
		.entry-header .comments-link a:focus,
		.entry-header .comments-link a:active,
		.feature-slider a.active {
			background-color: #001e9e;
		}
	</style>
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>		<style type="text/css">
			.recentcomments a {
				display: inline !important;
				padding: 0 !important;
				margin: 0 !important;
			}

			table.recentcommentsavatartop img.avatar, table.recentcommentsavatarend img.avatar {
				border: 0px;
				margin: 0;
			}

			table.recentcommentsavatartop a, table.recentcommentsavatarend a {
				border: 0px !important;
				background-color: transparent !important;
			}

			td.recentcommentsavatarend, td.recentcommentsavatartop {
				padding: 0px 0px 1px 0px;
				margin: 0px;
			}

			td.recentcommentstextend {
				border: none !important;
				padding: 0px 0px 2px 10px;
			}

			.rtl td.recentcommentstextend {
				padding: 0px 10px 2px 0px;
			}

			td.recentcommentstexttop {
				border: none;
				padding: 0px 0px 0px 10px;
			}

			.rtl td.recentcommentstexttop {
				padding: 0px 10px 0px 0px;
			}
		</style>
		<meta name="application-name" content="Brainder."><meta name="msapplication-window" content="width=device-width;height=device-height"><meta name="msapplication-tooltip" content="Information not shared is information lost."><meta name="msapplication-task" content="name=Subscribe;action-uri=https://brainder.org/feed/;icon-uri=https://secure.gravatar.com/blavatar/b75c72491241eee24301baf3c72f3448?s=16"><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s0.wp.com/i/favicon.ico"><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s0.wp.com/i/favicon.ico"><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s0.wp.com/i/favicon.ico"><meta name="description" content="(This article is about the nifti-1 file format. For an overview of how the nifti-2 differs from the nifti-1, see this one.) The Neuroimaging Informatics Technology Initiative (nifti) file format was envisioned about a decade ago as a replacement to the then widespread, yet problematic, analyze 7.5 file format. The main problem with the previous…">
<link rel="amphtml" href="https://brainder.org/2012/09/23/the-nifti-file-format/amp/"><link rel="stylesheet" type="text/css" id="gravatar-card-css" href="nifti_header_info_files/hovercard.css"><link rel="stylesheet" type="text/css" id="gravatar-card-services-css" href="nifti_header_info_files/services.css"></head>

<body class="post-template-default single single-post postid-1143 single-format-standard custom-background wp-embed-responsive customizer-styles-applied single-author singular two-column right-sidebar highlander-enabled highlander-light">
<div id="page" class="hfeed">
	<header id="branding" role="banner">
			<hgroup>
				<h1 id="site-title"><span><a href="https://brainder.org/" rel="home">Brainder.</a></span></h1>
				<h2 id="site-description">Information not shared is information lost.</h2>
			</hgroup>

						<a href="https://brainder.org/">
									<img src="nifti_header_info_files/brainder-v4.png" alt="" width="1000" height="288">
							</a>
			
								<form method="get" id="searchform" action="https://brainder.org/">
		<label for="s" class="assistive-text">Search</label>
		<input type="text" class="field" name="s" id="s" placeholder="Search">
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Search">
	</form>
			
			<nav id="access" role="navigation">
				<h3 class="assistive-text">Main menu</h3>
								<div class="skip-link"><a class="assistive-text" href="#content">Skip to primary content</a></div>
												<div class="menu-new-container"><ul id="menu-new" class="menu"><li id="menu-item-887" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-887"><a href="https://brainder.org/">Home</a></li>
<li id="menu-item-959" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-959"><a href="https://brainder.org/download/">Downloads</a>
<ul class="sub-menu">
	<li id="menu-item-961" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-961"><a href="https://brainder.org/download/areal/">Areal interpolation</a></li>
	<li id="menu-item-8581" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8581"><a href="https://brainder.org/download/palm/">PALM</a></li>
	<li id="menu-item-1101" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1101"><a href="https://brainder.org/download/flair/">FLAIR templates</a></li>
	<li id="menu-item-1526" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1526"><a href="https://brainder.org/research/brain-for-blender/">Brain for Blender</a></li>
	<li id="menu-item-11195" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11195"><a href="https://github.com/andersonwinkler/toolbox">Toolbox</a></li>
</ul>
</li>
<li id="menu-item-888" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-888"><a href="https://brainder.org/gallery/">Gallery</a>
<ul class="sub-menu">
	<li id="menu-item-1963" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1963"><a href="https://brainder.org/gallery/">Gallery</a></li>
	<li id="menu-item-1969" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1969"><a href="https://brainder.org/gallery/cover-art/">Cover art</a></li>
</ul>
</li>
<li id="menu-item-1009" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1009"><a href="https://brainder.org/research/">Research</a></li>
<li id="menu-item-10145" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10145"><a href="https://brainder.org/talks/">Talks</a></li>
<li id="menu-item-890" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-890"><a href="https://brainder.org/about/">About</a></li>
</ul></div>			</nav><!-- #access -->
	</header><!-- #branding -->


	<div id="main">

		<div id="primary">
			<div id="content" role="main">

				
					<nav id="nav-single">
						<h3 class="assistive-text">Post navigation</h3>
						<span class="nav-previous"><a href="https://brainder.org/2012/09/21/brainder-org-goes-ad-free/" rel="prev"><span class="meta-nav">←</span> Previous</a></span>
						<span class="nav-next"><a href="https://brainder.org/2012/11/28/competition-ranking-and-empirical-distributions/" rel="next">Next <span class="meta-nav">→</span></a></span>
					</nav><!-- #nav-single -->

					
<article id="post-1143" class="post-1143 post type-post status-publish format-standard hentry category-file-types category-neuroinformatics tag-file-format tag-header tag-nifti tag-nii tag-nii-gz">
	<header class="entry-header">
		<h1 class="entry-title">The NIFTI file&nbsp;format</h1>

				<div class="entry-meta">
						<span class="sep">Posted on </span><a href="https://brainder.org/2012/09/23/the-nifti-file-format/" title="16:43" rel="bookmark"><time class="entry-date" datetime="2012-09-23T16:43:35-04:00">23.September.2012</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="https://brainder.org/author/andersonwinkler/" title="View all posts by A. M. Winkler" rel="author">A. M. Winkler</a></span></span>		</div><!-- .entry-meta -->
			</header><!-- .entry-header -->

	<div class="entry-content">
		<p style="text-align:center;"><img class="aligncenter" style="border:0 none;margin-top:0;margin-bottom:0;" title="NIFTI file format" src="nifti_header_info_files/nifti.png" alt="" width="298" height="120"></p>
<p><em>(This article is about the <span style="font-variant:small-caps;">nifti</span>-1 file format. For an overview of how the <span style="font-variant:small-caps;">nifti</span>-2 differs from the <span style="font-variant:small-caps;">nifti</span>-1, see <strong><a title="The NIFTI-2 file format" href="https://brainder.org/2015/04/03/the-nifti-2-file-format/" target="_blank" rel="noopener">this one</a></strong>.)</em></p>
<p>The Neuroimaging Informatics Technology Initiative (<span style="font-variant:small-caps;">nifti</span>) file format was envisioned about a decade ago as a replacement to the then widespread, yet problematic, <span style="font-variant:small-caps;">analyze</span>
 7.5 file format. The main problem with the previous format was perhaps 
the lack of adequate information about orientation in space, such that 
the stored data could not be unambiguously interpreted. Although the 
file was used by many different imaging software, the lack of adequate 
information on orientation obliged some, most notably <span style="font-variant:small-caps;">spm</span>, to include, for every <span style="font-variant:small-caps;">analyze</span> file, an accompanying file describing the orientation, such as a file with extension <code>.mat</code>. The new format was defined in two meetings of the so called Data Format Working Group (<span style="font-variant:small-caps;">dfwg</span>) at the National Institutes of Health (<span style="font-variant:small-caps;">nih</span>),
 one in 31 March and another in 02 September of 2003. Representatives of
 some of the most popular neuroimaging software agreed upon a format 
that would include new information, and upon using the new format, 
either natively, or have it as an option to import and export.</p>
<h2>Radiological or “neurological”?</h2>
<p>Perhaps the most visible consequence of the lack of orientation 
information was the then reigning confusion between left and right sides
 of brain images during the years in which the <span style="font-variant:small-caps;">analyze</span>
 format was dominant. It was by this time that researchers became used 
to describe an image as being in “neurological” or in “radiological” 
convention. These terms have always been inadequate because, in the 
absence of orientation information, no two pieces of software 
necessarily would have to display the same file with the same side of 
the brain in the same side of the screen. A file could be shown in 
“neurological” orientation in one software, but in radiological 
orientation in another, to the dismay of an unaware user. Moreover, 
although there is indeed a convention adopted by virtually all 
manufacturers of radiological equipment to show the left side of the 
patient on the right side of the observer, as if the patient were being 
observed from face-to-face or, if lying supine, from the feet, it is not
 known whether reputable neurologists ever actually convened to create a
 “neurological” convention that would be just the opposite of the 
radiological. The way as radiological exams are normally shown reflects 
the reality of the medical examination, in which the physician commonly 
approaches the patient in the bed from the direction of the feet 
(usually there is a wall behind the bed), and tend to stay face-to-face 
most of the time. Although the neurological examination does indeed 
include a few manoeuvres performed at the back, for most of the time, 
even in the more specialised semiotics, the physician stays at the 
front. The <span style="font-variant:small-caps;">nifti</span> format 
obviated all these issues, rendering these terms obsolete. Software can 
now mark the left or the right side correctly, sometimes giving the 
option of showing it flipped to better adapt to the user personal 
orientation preference.</p>
<h2>Same format, different presentations</h2>
<p>A single image stored in the <span style="font-variant:small-caps;">analyze</span> 7.5 format requires two files: a header, with extension <code>.hdr</code>, to store meta-information, and the actual data, with extension <code>.img</code>. In order to keep compatibility with the previous format, data stored in <span style="font-variant:small-caps;">nifti</span> format also uses a pair of files, <code>.hdr/.img</code>. Care was taken so that the internal structure of the <span style="font-variant:small-caps;">nifti</span> format would be mostly compatible with the structure of the <span style="font-variant:small-caps;">analyze</span> format. However, the new format added some clever improvements. Work with a pair of files for each image as in the <code>.hdr/.img</code>,
 rather than just one, is not only inconvenient, but it is also error 
prone, as one might easily forget (or not know) that the data of 
interest is actually split across more than one file. To address this 
issue, the <span style="font-variant:small-caps;">nifti</span> format also allows for storage as a single file, with extension <code>.nii</code>.
 Single file or pair of files are not the only possible presentations, 
though. It is very common for images to have large areas of solid 
background, or files describing masks and regions of interest containing
 just a few unique values that appear repeated many times. Files like 
these occupy large space in the disk, but with little actual information
 content. This is the perfect case where compression can achieve 
excellent results. Indeed, both <span style="font-variant:small-caps;">nifti</span> and <span style="font-variant:small-caps;">analyze</span> files can be compressed. The <a title="DEFLATE algorithm" href="http://en.wikipedia.org/wiki/DEFLATE" target="_blank" rel="noopener"><span style="font-variant:small-caps;">deflate</span> algorithm</a> (used, e.g., by <a title="gzip" href="http://www.gzip.org/" target="_blank" rel="noopener"><code>gzip</code></a>) can operate in streams, allowing compression and decompression on-the-fly. The compressed versions have the <code>.gz</code> extension appended: <code>.nii.gz</code> (single file) or <code>.hdr/.img.gz</code> (pair of files, either <span style="font-variant:small-caps;">nifti</span> or <span style="font-variant:small-caps;">analyze</span>).</p>
<h2>Predefined dimensions for space and time</h2>
<p>In the <span style="font-variant:small-caps;">nifti</span> format, the first three dimensions are reserved to define the three spatial dimensions — <em>x</em>, <em>y</em> and <em>z</em> —, while the fourth dimension is reserved to define the time points — <em>t</em>.
 The remaining dimensions, from fifth to seventh, are for other uses. 
The fifth dimension, however, can still have some predefined uses, such 
as to store voxel-specific distributional parameters or to hold 
vector-based data.</p>
<h2>Overview of the header structure</h2>
<p>In order to keep compatibility with the <span style="font-variant:small-caps;">analyze</span> format, the size of the <span style="font-variant:small-caps;">nifti</span>
 header was maintained at 348 bytes as in the old format. Some fields 
were reused, some were preserved, but ignored, and some were entirely 
overwritten. The table below shows each of the fields, their sizes, and a
 brief description. More details on how each field should be interpreted
 are provided further below.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Offset</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int</code></td>
<td><code>sizeof_hdr</code></td>
<td>0B</td>
<td>4B</td>
<td>Size of the header. Must be 348 (bytes).</td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>data_type[10]</code></td>
<td>4B</td>
<td>10B</td>
<td>Not used; compatibility with <span style="font-variant:small-caps;">analyze</span>.</td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>db_name[18]</code></td>
<td>14B</td>
<td>18B</td>
<td>Not used; compatibility with <span style="font-variant:small-caps;">analyze</span>.</td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>extents</code></td>
<td>32B</td>
<td>4B</td>
<td>Not used; compatibility with <span style="font-variant:small-caps;">analyze</span>.</td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>session_error</code></td>
<td>36B</td>
<td>2B</td>
<td>Not used; compatibility with <span style="font-variant:small-caps;">analyze</span>.</td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>regular</code></td>
<td>38B</td>
<td>1B</td>
<td>Not used; compatibility with <span style="font-variant:small-caps;">analyze</span>.</td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>dim_info</code></td>
<td>39B</td>
<td>1B</td>
<td>Encoding directions (phase, frequency, slice).</td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>dim[8]</code></td>
<td>40B</td>
<td>16B</td>
<td>Data array dimensions.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>intent_p1</code></td>
<td>56B</td>
<td>4B</td>
<td>1st intent parameter.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>intent_p2</code></td>
<td>60B</td>
<td>4B</td>
<td>2nd intent parameter.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>intent_p3</code></td>
<td>64B</td>
<td>4B</td>
<td>3rd intent parameter.</td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>intent_code</code></td>
<td>68B</td>
<td>2B</td>
<td><span style="font-variant:small-caps;">nifti</span> intent.</td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>datatype</code></td>
<td>70B</td>
<td>2B</td>
<td>Data type.</td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>bitpix</code></td>
<td>72B</td>
<td>2B</td>
<td>Number of bits per voxel.</td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>slice_start</code></td>
<td>74B</td>
<td>2B</td>
<td>First slice index.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>pixdim[8]</code></td>
<td>76B</td>
<td>32B</td>
<td>Grid spacings (unit per dimension).</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>vox_offset</code></td>
<td>108B</td>
<td>4B</td>
<td>Offset into a .nii file.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>scl_slope</code></td>
<td>112B</td>
<td>4B</td>
<td>Data scaling, slope.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>scl_inter</code></td>
<td>116B</td>
<td>4B</td>
<td>Data scaling, offset.</td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>slice_end</code></td>
<td>120B</td>
<td>2B</td>
<td>Last slice index.</td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>slice_code</code></td>
<td>122B</td>
<td>1B</td>
<td>Slice timing order.</td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>xyzt_units</code></td>
<td>123B</td>
<td>1B</td>
<td>Units of pixdim[1..4].</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>cal_max</code></td>
<td>124B</td>
<td>4B</td>
<td>Maximum display intensity.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>cal_min</code></td>
<td>128B</td>
<td>4B</td>
<td>Minimum display intensity.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>slice_duration</code></td>
<td>132B</td>
<td>4B</td>
<td>Time for one slice.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>toffset</code></td>
<td>136B</td>
<td>4B</td>
<td>Time axis shift.</td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>glmax</code></td>
<td>140B</td>
<td>4B</td>
<td>Not used; compatibility with <span style="font-variant:small-caps;">analyze</span>.</td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>glmin</code></td>
<td>144B</td>
<td>4B</td>
<td>Not used; compatibility with <span style="font-variant:small-caps;">analyze</span>.</td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>descrip[80]</code></td>
<td>148B</td>
<td>80B</td>
<td>Any text.</td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>aux_file[24]</code></td>
<td>228B</td>
<td>24B</td>
<td>Auxiliary filename.</td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>qform_code</code></td>
<td>252B</td>
<td>2B</td>
<td>Use the quaternion fields.</td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>sform_code</code></td>
<td>254B</td>
<td>2B</td>
<td>Use of the affine fields.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>quatern_b</code></td>
<td>256B</td>
<td>4B</td>
<td>Quaternion b parameter.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>quatern_c</code></td>
<td>260B</td>
<td>4B</td>
<td>Quaternion c parameter.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>quatern_d</code></td>
<td>264B</td>
<td>4B</td>
<td>Quaternion d parameter.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>qoffset_x</code></td>
<td>268B</td>
<td>4B</td>
<td>Quaternion x shift.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>qoffset_y</code></td>
<td>272B</td>
<td>4B</td>
<td>Quaternion y shift.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>qoffset_z</code></td>
<td>276B</td>
<td>4B</td>
<td>Quaternion z shift.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>srow_x[4]</code></td>
<td>280B</td>
<td>16B</td>
<td>1st row affine transform</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>srow_y[4]</code></td>
<td>296B</td>
<td>16B</td>
<td>2nd row affine transform.</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>srow_z[4]</code></td>
<td>312B</td>
<td>16B</td>
<td>3rd row affine transform.</td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>intent_name[16]</code></td>
<td>328B</td>
<td>16B</td>
<td>Name or meaning of the data.</td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>magic[4]</code></td>
<td>344B</td>
<td>4B</td>
<td>Magic string.</td>
</tr>
<tr>
<td colspan="3">Total size</td>
<td>348B</td>
<td></td>
</tr>
</tbody>
</table>
<p>Each of these fields is described in mode detail below, in the order as they appear in the header.</p>
<h2>Size of the header</h2>
<p>The field <code>int sizeof_hdr</code> stores the size of the header. It must be 348 for a <span style="font-variant:small-caps;">nifti</span> or <span style="font-variant:small-caps;">analyze</span> format.</p>
<h2>Dim info</h2>
<p>The field <code>char dim_info</code> stores, in just one byte, the 
frequency encoding direction (1, 2 or 3), the phase encoding direction 
(1, 2 or 3), and the direction in which the volume was sliced during the
 acquisition (1, 2 or 3). For spiral sequences, frequency and phase 
encoding are both set as 0. The reason to collapse all this information 
in just one byte was to save space. See also the fields <code>short slice_start</code>, <code>short slice_end</code>, <code>char slice_code</code> and <code>float slice_duration</code>.</p>
<h2>Image dimensions</h2>
<p>The field <code>short dim[8]</code> contains the size of the image array. The first element (<code>dim[0]</code>) contains the number of dimensions (1-7). If <code>dim[0]</code> is not in this interval, the data is assumed to have opposite endianness and so, should be byte-swapped (the <span style="font-variant:small-caps;">nifti</span> standard does not specify a specific field for endianness, but encourages the use of <code>dim[0]</code>
 for this purpose). The dimensions 1, 2 and 3 are assumed to refer to 
space (x, y, z), the 4th dimension is assumed to refer to time, and the 
remaining dimensions, 5, 6 and 7, can be anything else. The value <code>dim[i]</code> is a positive integer representing the length of the i-th dimension.</p>
<h2>Intent</h2>
<p>The <code>short intent_code</code> is an integer that codifies that 
the data is supposed to contain. Some of these codes require 
extra-parameters, such as the number of degrees of freedom (df). These 
extra parameters, when needed, can be stored in the fields <code>intent_p*</code>
 when they can be applied to the image as a while, or in the 5th 
dimension if voxelwise. A list of intent codes is in the table below:</p>
<table>
<thead></thead>
<tbody>
<tr>
<th>Intent</th>
<th>Code</th>
<th>Parameters</th>
</tr>
<tr>
<td>None</td>
<td><code>0</code></td>
<td>no parameters</td>
</tr>
<tr>
<td>Correlation</td>
<td><code>2</code></td>
<td>p1 = degrees of freedom (df)</td>
</tr>
<tr>
<td>t test</td>
<td><code>3</code></td>
<td>p1 = df</td>
</tr>
<tr>
<td>F test</td>
<td><code>4</code></td>
<td>p1 = numerator df, p2 = denominator df</td>
</tr>
<tr>
<td>z score</td>
<td><code>5</code></td>
<td>no parameters</td>
</tr>
<tr>
<td><img src="nifti_header_info_files/latex_006.png" alt="\chi^2" title="\chi^2" class="latex"> statistic</td>
<td><code>6</code></td>
<td>p1 = df</td>
</tr>
<tr>
<td>Beta distribution</td>
<td><code>7</code></td>
<td>p1 = a, p2 = b</td>
</tr>
<tr>
<td>Binomial distribution</td>
<td><code>8</code></td>
<td>p1 = number of trials, p2 = probability per trial</td>
</tr>
<tr>
<td>Gamma distribution</td>
<td><code>9</code></td>
<td>p1 = shape, p2 = scale</td>
</tr>
<tr>
<td>Poisson distribution</td>
<td><code>10</code></td>
<td>p1 = mean</td>
</tr>
<tr>
<td>Normal distribution</td>
<td><code>11</code></td>
<td>p1 = mean, p2 = standard deviation</td>
</tr>
<tr>
<td>Noncentral F statistic</td>
<td><code>12</code></td>
<td>p1 = numerator df, p2 = denominator df, p3 = numerator noncentrality parameter</td>
</tr>
<tr>
<td>Noncentral <img src="nifti_header_info_files/latex_006.png" alt="\chi^2" title="\chi^2" class="latex"> statistic</td>
<td><code>13</code></td>
<td>p1 = dof, p2 = noncentrality parameter</td>
</tr>
<tr>
<td>Logistic distribution</td>
<td><code>14</code></td>
<td>p1 = location, p2 = scale</td>
</tr>
<tr>
<td>Laplace distribution</td>
<td><code>15</code></td>
<td>p1 = location, p2 = scale</td>
</tr>
<tr>
<td>Uniform distribution</td>
<td><code>16</code></td>
<td>p1 = lower end, p2 = upper end</td>
</tr>
<tr>
<td>Noncentral t statistic</td>
<td><code>17</code></td>
<td>p1 = dof, p2 = noncentrality parameter</td>
</tr>
<tr>
<td>Weibull distribution</td>
<td><code>18</code></td>
<td>p1 = location, p2 = scale, p3 = power</td>
</tr>
<tr>
<td><img src="nifti_header_info_files/latex_007.png" alt="\chi" title="\chi" class="latex"> distribution</td>
<td><code>19</code></td>
<td>p1 = df*</td>
</tr>
<tr>
<td>Inverse Gaussian</td>
<td><code>20</code></td>
<td>p1 = <img src="nifti_header_info_files/latex_002.png" alt="\mu" title="\mu" class="latex">, p2 = <img src="nifti_header_info_files/latex_011.png" alt="\lambda" title="\lambda" class="latex"></td>
</tr>
<tr>
<td>Extreme value type I</td>
<td><code>21</code></td>
<td>p1 = location, p2 = scale</td>
</tr>
<tr>
<td>p-value</td>
<td><code>22</code></td>
<td>no parameters</td>
</tr>
<tr>
<td>-ln(p)</td>
<td><code>23</code></td>
<td>no parameters</td>
</tr>
<tr>
<td>-log(p)</td>
<td><code>24</code></td>
<td>no parameters</td>
</tr>
</tbody>
</table>
<p><em>* Note: For the <img src="nifti_header_info_files/latex_007.png" alt="\chi" title="\chi" class="latex">
 distribution, when p1=1, it is a “half-normal” distribution; when p1=2,
 it is a Rayleigh distribution; and when p1=3, it is a Maxwell-Boltzmann
 distribution.</em> Other intent codes are available to indicate that the file contains data that is not of statistical nature.</p>
<table>
<thead>
<tr>
<th>Intent</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Estimate</td>
<td><code>1001</code></td>
<td>Estimate of some parameter, possibly indicated in <code>intent_name</code></td>
</tr>
<tr>
<td>Label</td>
<td><code>1002</code></td>
<td>Indices of a set of labels, which may be indicated in <code>aux_file</code>.</td>
</tr>
<tr>
<td>NeuroName</td>
<td><code>1003</code></td>
<td>Indices in the <a title="NeuroNames" href="http://braininfo.rprc.washington.edu/" target="_blank" rel="noopener">NeuroNames</a> set of labels.</td>
</tr>
<tr>
<td>Generic matrix</td>
<td><code>1004</code></td>
<td>For a MxN matrix in the 5th dimension, row major. p1 = M, p2 = N (integers as <code>float</code>); <code>dim[5]</code> = M*N.</td>
</tr>
<tr>
<td>Symmetric matrix</td>
<td><code>1005</code></td>
<td>For a symmetric NxN matrix in the 5th dimension, row major, lower matrix. p1 = N (integer as <code>float</code>); <code>dim[5]</code> = N*(N+1)/2.</td>
</tr>
<tr>
<td>Displacement vector</td>
<td><code>1006</code></td>
<td>Vector per voxel, stored in the 5th dimension.</td>
</tr>
<tr>
<td>Vector</td>
<td><code>1007</code></td>
<td>As above, vector per voxel, stored in the 5th dimension.</td>
</tr>
<tr>
<td>Point set</td>
<td><code>1008</code></td>
<td>Points in the space, in the 5th dimension. <code>dim[1]</code> = number of points; <code>dim[2]</code>=<code>dim[3]</code>=1; <code>intent_name</code> may be used to indicate modality.</td>
</tr>
<tr>
<td>Triangle</td>
<td><code>1009</code></td>
<td>Indices of points in space, in the 5th dimension. <code>dim[1]</code> = number of triangles.</td>
</tr>
<tr>
<td>Quaternion</td>
<td><code>1010</code></td>
<td>Quaternion in the 5th dimension.</td>
</tr>
<tr>
<td>Dimless</td>
<td><code>1011</code></td>
<td>Nothing. The intent may be in <code>intent_name</code>.</td>
</tr>
<tr>
<td>Time series</td>
<td><code>2001</code></td>
<td>Each voxel contains a time series.</td>
</tr>
<tr>
<td>Node index</td>
<td><code>2002</code></td>
<td>Each voxel is an index of a surface dataset.</td>
</tr>
<tr>
<td><span style="font-variant:small-caps;">rgb</span></td>
<td><code>2003</code></td>
<td><span style="font-variant:small-caps;">rgb</span> triplet in the 5th dimension. <code>dim[0]</code> = 5, <code>dim[1]</code> has the number of entries, <code>dim[2:4]</code> = 1, <code>dim[5]</code> = 3.</td>
</tr>
<tr>
<td><span style="font-variant:small-caps;">rgba</span></td>
<td><code>2004</code></td>
<td><span style="font-variant:small-caps;">rgba</span> quadruplet in the 5th dimension. <code>dim[0]</code> = 5, <code>dim[1]</code> has the number of entries, <code>dim[2:4]</code> = 1, <code>dim[5]</code> = 4.</td>
</tr>
<tr>
<td>Shape</td>
<td><code>2005</code></td>
<td>Value at each location is a shape parameter, such as a curvature.</td>
</tr>
</tbody>
</table>
<p>The intent parameters are stored in the fields <code>float intent_p1</code>, <code>float intent_p2</code> and <code>float intent_p3</code>.
 Alternatively, if the parameters are different for each voxel, they 
should be stored in the 5th dimension of the file. A human readable 
intent name can be stored in the field <code>char intent_name[16]</code>,
 which may help to explain the intention of the data when it cannot or 
is not coded with any of the intent codes and parameters above.</p>
<h2>Data type and bits per pixel/voxel</h2>
<p>The field <code>int datatype</code> indicates the type of the data stored. Acceptable values are:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Bitpix</th>
<th>Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>unknown</td>
<td>–</td>
<td><code>0</code></td>
</tr>
<tr>
<td>bool</td>
<td>1 bit</td>
<td><code>1</code></td>
</tr>
<tr>
<td>unsigned char</td>
<td>8 bits</td>
<td><code>2</code></td>
</tr>
<tr>
<td>signed short</td>
<td>16 bits</td>
<td><code>4</code></td>
</tr>
<tr>
<td>signed int</td>
<td>32 bits</td>
<td><code>8</code></td>
</tr>
<tr>
<td>float</td>
<td>32 bits</td>
<td><code>16</code></td>
</tr>
<tr>
<td>complex</td>
<td>64 bits</td>
<td><code>32</code></td>
</tr>
<tr>
<td>double</td>
<td>64 bits</td>
<td><code>64</code></td>
</tr>
<tr>
<td><span style="font-variant:small-caps;">rgb</span></td>
<td>24 bits</td>
<td><code>128</code></td>
</tr>
<tr>
<td>“all”</td>
<td>–</td>
<td><code>255</code></td>
</tr>
<tr>
<td>signed char</td>
<td>8 bits</td>
<td><code>256</code></td>
</tr>
<tr>
<td>unsigned short</td>
<td>16 bits</td>
<td><code>512</code></td>
</tr>
<tr>
<td>unsigned int</td>
<td>32 bits</td>
<td><code>768</code></td>
</tr>
<tr>
<td>long long</td>
<td>64 bits</td>
<td><code>1024</code></td>
</tr>
<tr>
<td>unsigned long long</td>
<td>64 bits</td>
<td><code>1280</code></td>
</tr>
<tr>
<td>long double</td>
<td>128 bits</td>
<td><code>1536</code></td>
</tr>
<tr>
<td>double pair</td>
<td>128 bits</td>
<td><code>1792</code></td>
</tr>
<tr>
<td>long double pair</td>
<td>256 bits</td>
<td><code>2048</code></td>
</tr>
<tr>
<td><span style="font-variant:small-caps;">rgba</span></td>
<td>32 bits</td>
<td><code>2304</code></td>
</tr>
</tbody>
</table>
<p>The field <code>short bitpix</code> holds the information of the number of bits per voxel. The value must match the type determined by <code>datatype</code> as shown above.</p>
<h2>Slice acquisition information</h2>
<p>The fields fields <code>char slice_code</code>, <code>short slice_start</code>, <code>short slice_end</code> and <code>float slice_duration</code> are useful to store information about the timing of an fMRI acquisition, and need to be used together with the <code>char dim_info</code>, which contains the field <code>slice_dim</code>. If, and only if, the <code>slice_dim</code> is different than zero, <code>slice_code</code> is interpreted as:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td>Slice order unknown</td>
</tr>
<tr>
<td><code>1</code></td>
<td>Sequential, increasing</td>
</tr>
<tr>
<td><code>2</code></td>
<td>Sequential, decreasing</td>
</tr>
<tr>
<td><code>3</code></td>
<td>Interleaved, increasing, starting at the 1st <span style="font-variant:small-caps;">mri</span> slice</td>
</tr>
<tr>
<td><code>4</code></td>
<td>Interleaved, decreasing, starting at the last <span style="font-variant:small-caps;">mri</span> slice</td>
</tr>
<tr>
<td><code>5</code></td>
<td>Interleaved, increasing, starting at the 2nd <span style="font-variant:small-caps;">mri</span> slice</td>
</tr>
<tr>
<td><code>6</code></td>
<td>Interleaved, decreasing, starting at one before the last <span style="font-variant:small-caps;">mri</span> slice</td>
</tr>
</tbody>
</table>
<p>The fields <code>short slice_start</code> and <code>short slice_end</code> inform respectively which are the first the last slices that correspond to the actual <span style="font-variant:small-caps;">mri</span>
 acquisition. Slices present in the image that are outside this range 
are treated as padded slices (for instance, containing zeroes). The 
field <code>float slice_duration</code> indicates the amount of time 
needed to acquire a single slice. Having this information in a separate 
field allows to correctly store images of experiments in which <code>slice_duration*dim[slice_dim]</code> is smaller than the value stored in <code>pixdim[4]</code>, usually the repetition time (<span style="font-variant:small-caps;">tr</span>).</p>
<div style="width: 523px" class="wp-caption aligncenter"><a href="https://s3.us-east-2.amazonaws.com/brainder/2012/nifti/slicetimingcodes_270dpi.png"><img style="border:0 none;margin-top:0;margin-bottom:0;" title="Slice timing NIFTI codes" src="nifti_header_info_files/slicetimingcodes_90dpi.png" alt="" width="513" height="297"></a><p class="wp-caption-text">Slice
 codes to specify slice acquisition timings. In this example, 
slice_start = 2 and slice_end = 11, indicating that slices #01 and #12 
stored in the file have not been truly acquired with MRI, but instead, 
were padded to the file. The field slice_duration specifies how long it 
took to acquire each slice. The dimension that corresponds to the slice 
acquisition (in this case dim[3], z) is encoded in the field dim_info.</p></div>
<h2>Voxel dimensions</h2>
<p>The dimension for each voxel is stored in the field <code>float pixdim[8]</code>, and each element match its respective in <code>short dim[8]</code>. The value in <code>float pixdim[0]</code>,
 however, has a special meaning, discussed below; it should always be -1
 or 1. The units of measurement for the first 4 dimensions are specified
 in the field <code>xyzt_units</code>, discussed below.</p>
<h2>Voxel offset</h2>
<p>The field <code>int vox_offset</code> indicates, for single files (<code>.nii</code>),
 the byte offset before the imaging data starts. For compatibility with 
older software, possible values are multiples of 16, and the minimum 
value is 352 (the smallest multiple of 16 that is larger than 348). For 
file pairs (<code>.hdr/.img</code>), this should be set as zero if no information other than image data itself is to be stored in the <code>.img</code> (most common), but it can also be larger than zero, allowing for user-defined extra-information to be prepended into the <code>.img</code>, such as a <a title="DICOM format" href="http://medical.nema.org/" target="_blank" rel="noopener"><span style="font-variant:small-caps;">dicom</span></a> header. In this case, however, the rule of being a multiple of 16 may eventually be violated. This field is of type <code>float</code> (32-bit, <a title="IEEE-754" href="http://en.wikipedia.org/wiki/IEEE_754" target="_blank" rel="noopener"><span style="font-variant:small-caps;">ieee</span>-754</a>), allowing integers up to 2<sup>24</sup> to be specified. The reason for using <code>float</code> rather than what would be the more natural choice, <code>int</code>, is to allow compatibility with the <span style="font-variant:small-caps;">analyze</span> format.</p>
<h2>Data scaling</h2>
<p>The values stored in each voxel can be linearly scaled to different units. The fields <code>float scl_slope</code> and <code>float scl_inter</code>
 define a slope and an intercept for a linear function. The data scaling
 feature allows the storage in a wider range than what would be allowed 
by the datatype. Yet, it is possible to use scaling within the same 
datatype. Both scaling fields should be ignored for the storage of <span style="font-variant:small-caps;">rgb</span> data. For complex types, it should be applied to both real and imaginary parts.</p>
<h2>Data display</h2>
<p>For files that store scalar (non-vector) data, the fields <code>float cal_min</code> and <code>float cal_max</code> determine the intended display range when the image is opened. Voxel values equal or below <code>cal_min</code>
 should be shown with the smallest colour in the colourscale (typically 
black in a gray-scale visualisation), and values equal or above <code>cal_max</code> should be shown with the largest colour in the colourscale (typically white).</p>
<h2>Measurement units</h2>
<p>Both spatial and temporal measurement units, used for the dimensions <code>dim[1]</code> to <code>dim[4]</code> (and, respectively, for <code>pixdim[]</code>), are encoded in the field <code>char xyzt_units</code>.
 The bits 1-3 are used to store the spatial dimensions, the bits 4-6 are
 for temporal dimensions, and the bits 6 and 7 are not used. A temporal 
offset can be specified in the field <code>float toffset</code>. The codes for <code>xyzt_units</code>, in decimal, are:</p>
<table>
<thead>
<tr>
<th>Unit</th>
<th>Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Unknown</td>
<td><code>0</code></td>
</tr>
<tr>
<td>Meter (m)</td>
<td><code>1</code></td>
</tr>
<tr>
<td>Milimeter (mm)</td>
<td><code>2</code></td>
</tr>
<tr>
<td>Micron (µm)</td>
<td><code>3</code></td>
</tr>
<tr>
<td>Seconds (s)</td>
<td><code>8</code></td>
</tr>
<tr>
<td>Miliseconds (ms)</td>
<td><code>16</code></td>
</tr>
<tr>
<td>Microseconds (µs)</td>
<td><code>24</code></td>
</tr>
<tr>
<td>Hertz (Hz)</td>
<td><code>32</code></td>
</tr>
<tr>
<td>Parts-per-million (ppm)</td>
<td><code>40</code></td>
</tr>
<tr>
<td>Radians per second (rad/s)</td>
<td><code>48</code></td>
</tr>
</tbody>
</table>
<h2>Description</h2>
<p>This field, <code>char descrip[80]</code> can contain any text with 
up to 80 characters. The standard does not specify whether this string 
needs to be terminated by a null character or not. Presumably, it is up 
to the application to correctly handle it.</p>
<h2>Auxiliary file</h2>
<p>A supplementary file, containing extra-information, can be specified in the field <code>char aux_file[24]</code>.
 This file can, for instance, contain the face indices for meshes which 
points are stored in the 5th dimension or a look-up-table to display 
colours.</p>
<h2>Orientation information</h2>
<p>The most visible improvement of the <span style="font-variant:small-caps;">nifti</span> format over the previous <span style="font-variant:small-caps;">analyze</span>
 format is the ability to unambiguously store information orientation. 
The file standard assumes that the voxel coordinates refer to the center
 of each voxel, rather than at any of its corners. The world coordinate 
system is assumed to be <span style="font-variant:small-caps;">ras</span>: +x is Right, +y is Anterior and +z is Superior, which is precisely different than the coordinate system used in <span style="font-variant:small-caps;">analyze</span>, which is <span style="font-variant:small-caps;">las</span>.
 The format provides three different methods to map the voxel 
coordinates (i,j,k) to the world coordinates (x,y,z). The first method 
exists only to allow compatibility with the <span style="font-variant:small-caps;">analyze</span> format. The other two methods may coexist, and convey different coordinate systems. These systems are specified in the fields <code>short qform_code</code> and <code>short sform_code</code>, which can assume the values specified in the table:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><span style="font-variant:small-caps;">unknown</span></td>
<td><code>0</code></td>
<td>Arbitrary coordinates. Use Method 1.</td>
</tr>
<tr>
<td><span style="font-variant:small-caps;">scanner_anat</span></td>
<td><code>1</code></td>
<td>Scanner-based anatomical coordinates.</td>
</tr>
<tr>
<td><span style="font-variant:small-caps;">aligned_anat</span></td>
<td><code>2</code></td>
<td>Coordinates aligned to another file, or to the “truth” (with an arbitrary coordinate center).</td>
</tr>
<tr>
<td><span style="font-variant:small-caps;">talairach</span></td>
<td><code>3</code></td>
<td>Coordinates aligned to the Talairach space.</td>
</tr>
<tr>
<td><span style="font-variant:small-caps;">mni_152</span></td>
<td><code>4</code></td>
<td>Coordinates aligned to the <span style="font-variant:small-caps;">mni</span> space.</td>
</tr>
</tbody>
</table>
<p>In principle, the <code>qform_code</code> (Method 2 below) should contain either <code>0</code>, <code>1</code> or <code>2</code>, whereas the <code>sform_code</code> (Method 3 below) could contain any of the codes shown in the table.</p>
<h3>Method 1</h3>
<p>The Method 1 is for compatibility with <span style="font-variant:small-caps;">analyze</span>
 and is not supposed to be used as the main orientation method. The 
world coordinates are determined simply by scaling by the voxel size:</p>
<p><img src="nifti_header_info_files/latex_003.png" alt="\left[ \begin{array}{c} x\\ y\\ z \end{array} \right]= \left[ \begin{array}{c} i\\ j\\ k \end{array} \right]\odot \left[ \begin{array}{c} \mathtt{pixdim[1]}\\ \mathtt{pixdim[2]}\\ \mathtt{pixdim[3]}\\ \end{array} \right]" title="\left[ \begin{array}{c} x\\ y\\ z \end{array} \right]= \left[ \begin{array}{c} i\\ j\\ k \end{array} \right]\odot \left[ \begin{array}{c} \mathtt{pixdim[1]}\\ \mathtt{pixdim[2]}\\ \mathtt{pixdim[3]}\\ \end{array} \right]" class="latex"></p>
<p>where <img src="nifti_header_info_files/latex.png" alt="\odot" title="\odot" class="latex"> is the <a title="Hadamard product" href="http://en.wikipedia.org/wiki/Hadamard_product_%28matrices%29" target="_blank" rel="noopener">Hadamard product</a>.</p>
<h3>Method 2</h3>
<p>The Method 2 is used when <code>short qform_code</code> is larger 
than zero, and is intended to be used to indicate the scanner 
coordinates, in a way that resembles the coordinates specified in the <span style="font-variant:small-caps;">dicom</span>
 header. It can also be used to represent the alignment of an image to a
 previous session of the same subject (such as for coregistration). For 
compactness and simplicity, the information in this field is stored as 
quaternions (a,b,c,d), which last three coefficients are in the fields <code>float quatern_b</code>, <code>float quatern_c</code>, <code>float quatern_d</code>. The first coefficient can be calculated from the other three as <img src="nifti_header_info_files/latex_010.png" alt="a = \sqrt{1-b^2-c^2-d^2}" title="a = \sqrt{1-b^2-c^2-d^2}" class="latex">. These fields are used to construct a rotation matrix as:</p>
<p><img src="nifti_header_info_files/latex_004.png" alt="\mathbf{R} = \left[ \begin{array}{ccc} a^2+b^2-c^2-d^2 &amp; 2(bc-ad) &amp; 2(bd+ac) \\ 2(bc+ad) &amp; a^2+c^2-b^2-d^2 &amp; 2(cd-ab) \\ 2(bd-ac) &amp; 2(cd+ab) &amp; a^2+d^2-b^2-c^2 \end{array} \right]" title="\mathbf{R} = \left[ \begin{array}{ccc} a^2+b^2-c^2-d^2 &amp; 2(bc-ad) &amp; 2(bd+ac) \\ 2(bc+ad) &amp; a^2+c^2-b^2-d^2 &amp; 2(cd-ab) \\ 2(bd-ac) &amp; 2(cd+ab) &amp; a^2+d^2-b^2-c^2 \end{array} \right]" class="latex"></p>
<p>This rotation matrix, together with the voxel sizes and a translation
 vector, is used to define the final transformation from voxel to world 
space:</p>
<p><img src="nifti_header_info_files/latex_008.png" alt="\left[ \begin{array}{c} x\\ y\\ z \end{array} \right]=\mathbf{R} \left[ \begin{array}{c} i\\ j\\ q\cdot k\\ \end{array} \right]\odot \left[ \begin{array}{c} \mathtt{pixdim[1]}\\ \mathtt{pixdim[2]}\\ \mathtt{pixdim[3]}\\ \end{array} \right]+ \left[ \begin{array}{c} \mathtt{qoffset\_x}\\ \mathtt{qoffset\_y}\\ \mathtt{qoffset\_z}\\ \end{array} \right]" title="\left[ \begin{array}{c} x\\ y\\ z \end{array} \right]=\mathbf{R} \left[ \begin{array}{c} i\\ j\\ q\cdot k\\ \end{array} \right]\odot \left[ \begin{array}{c} \mathtt{pixdim[1]}\\ \mathtt{pixdim[2]}\\ \mathtt{pixdim[3]}\\ \end{array} \right]+ \left[ \begin{array}{c} \mathtt{qoffset\_x}\\ \mathtt{qoffset\_y}\\ \mathtt{qoffset\_z}\\ \end{array} \right]" class="latex"></p>
<p>where <img src="nifti_header_info_files/latex.png" alt="\odot" title="\odot" class="latex"> is, again, the <a title="Hadamard product" href="http://en.wikipedia.org/wiki/Hadamard_product_%28matrices%29" target="_blank" rel="noopener">Hadamard product</a>, and <img src="nifti_header_info_files/latex_005.png" alt="q" title="q" class="latex"> is the <code>qfac</code> value, stored at the otherwise unused <code>pixdim[0]</code>, which should be either <code>-1</code> or <code>1</code>. Any different value should be treated as <code>1</code>.</p>
<h3>Method 3</h3>
<p>The Method 3 is used when <code>short sform_code</code> is larger than zero. It relies on a full affine matrix, stored in the header in the fields <code>float srow_*[4]</code>, to map voxel to world coordinates:</p>
<p><img src="nifti_header_info_files/latex_009.png" alt="\left[ \begin{array}{c} x\\ y\\ z\\ 1 \end{array} \right]=\left[ \begin{array}{cccc} \mathtt{srow\_x[0]} &amp; \mathtt{srow\_x[1]} &amp; \mathtt{srow\_x[2]} &amp; \mathtt{srow\_x[3]}\\ \mathtt{srow\_y[0]} &amp; \mathtt{srow\_y[1]} &amp; \mathtt{srow\_y[2]} &amp; \mathtt{srow\_y[3]}\\ \mathtt{srow\_z[0]} &amp; \mathtt{srow\_z[1]} &amp; \mathtt{srow\_z[2]} &amp; \mathtt{srow\_z[3]} \\ 0 &amp; 0 &amp; 0 &amp; 1\end{array} \right]\cdot\left[ \begin{array}{c} i\\ j\\ k\\ 1 \end{array} \right]" title="\left[ \begin{array}{c} x\\ y\\ z\\ 1 \end{array} \right]=\left[ \begin{array}{cccc} \mathtt{srow\_x[0]} &amp; \mathtt{srow\_x[1]} &amp; \mathtt{srow\_x[2]} &amp; \mathtt{srow\_x[3]}\\ \mathtt{srow\_y[0]} &amp; \mathtt{srow\_y[1]} &amp; \mathtt{srow\_y[2]} &amp; \mathtt{srow\_y[3]}\\ \mathtt{srow\_z[0]} &amp; \mathtt{srow\_z[1]} &amp; \mathtt{srow\_z[2]} &amp; \mathtt{srow\_z[3]} \\ 0 &amp; 0 &amp; 0 &amp; 1\end{array} \right]\cdot\left[ \begin{array}{c} i\\ j\\ k\\ 1 \end{array} \right]" class="latex"></p>
<p>Differently than Method 2, which is supposed to contain a 
transformation that maps voxel indices to the scanner world coordinates,
 or to align between two distinct images of the same subject, the Method
 3 is used to indicate the transformation to some standard world space, 
such as the Talairach or <span style="font-variant:small-caps;">mni</span> coordinates, in which case, the coordinate system has its origin (0,0,0) at the anterior comissure of the brain.</p>
<h2>Magic string</h2>
<p>The <code>char magic[4]</code> field is a “magic” string that declares the file as conforming with the <span style="font-variant:small-caps;">nifti</span> standard. It was placed at the very end of the header to avoid overwriting fields that are needed for the <span style="font-variant:small-caps;">analyze</span> format. Ideally, however, this string should be checked first. It should be <code>'ni1'</code> (or <code>'6E 69 31 00'</code> in hexadecimal) for <code>.hdr/.img</code> pair, or <code>'n+1'</code> (or <code>'6E 2B 31 00'</code>) for a <code>.nii</code> single file. In the absence of this string, the file should be treated as <span style="font-variant:small-caps;">analyze</span>. Future versions of the <span style="font-variant:small-caps;">nifti</span> format may increment the string to <code>'n+2'</code>, <code>'n+3'</code>, etc. Indeed, as of 2012, a second version is under preparation.</p>
<h2>Unused fields</h2>
<p>The fields <code>char data_type[10]</code>, <code>char db_name[18]</code>, <code>int extents</code>, <code>short session_error</code> and <code>char regular</code> are not used by the <span style="font-variant:small-caps;">nifti</span> format, but were included in the header for compatibility with <span style="font-variant:small-caps;">analyze</span>. The <code>extents</code> should be the integer 16384, and <code>regular</code> should be the character <code>'r'</code>. The fields <code>int glmin</code> and <code>int glmax</code> specify respectively the minimum and maximum of the entire dataset in the <span style="font-variant:small-caps;">analyze</span> format.</p>
<h2>Storing extra-information</h2>
<p>Extra information can be included in the <span style="font-variant:small-caps;">nifti</span>
 format in a number of ways as allowed by the standard. At the end of 
the header, the next 4 bytes (i.e., from byte 349 to 352, inclusive) may
 or may not be present in a <code>.hdr</code> file. However, these bytes will always be present in a <code>.nii</code> file. They should be interpreted as a character array, i.e. <code>char extension[4]</code>. In principle, these 4 bytes should be all set to zero. If the first, <code>extension[0]</code>,
 is non-zero, this indicates the presence of extended information 
beginning at the byte number 353. Such extended information needs to 
have size multiple of 16. The first 8 bytes of this extension should be 
interpreted as two integers, <code>int esize</code> and <code>int ecode</code>. The field <code>esize</code> indicates the size of the extent, including the first 8 bytes that are the <code>esize</code> and <code>ecode</code> themselves. The field <code>ecode</code> indicates the format used for the remaining of the extension. At the time of this writing, three codes have been defined:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Use</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td>Unknown. This code should be avoided.</td>
</tr>
<tr>
<td><code>2</code></td>
<td><span style="font-variant:small-caps;">dicom</span> extensions</td>
</tr>
<tr>
<td><code>4</code></td>
<td><span style="font-variant:small-caps;">xml</span> extensions used by the <a title="AFNI" href="http://afni.nimh.nih.gov/afni/" target="_blank" rel="noopener"><span style="font-variant:small-caps;">afni</span></a> software package.</td>
</tr>
</tbody>
</table>
<p>More than one extension can be present in the same file, each one always starting with the pair <code>esize</code> and <code>ecode</code>, and with its first byte immediately past the last byte of the previous extension. In a single <code>.nii</code> file, the <code>float vox_offset</code> must be set properly so that the imaging data begins only after the end of the last extension.</p>
<h2>Problems</h2>
<p>The <span style="font-variant:small-caps;">nifti</span> format brought a number of great benefits if compared to the old <span style="font-variant:small-caps;">analyze</span> format. However, it also brought its own set of new problems. Fortunately, these problems are not severe. Here are some:</p>
<ul>
<li>Even though a huge effort was done to keep compatibility with <span style="font-variant:small-caps;">analyze</span>, a crucial aspect was not preserved: the world coordinate system is assumed, in the <span style="font-variant:small-caps;">nifti</span> format, to be <span style="font-variant:small-caps;">ras</span>, which is weird and confusing. The <span style="font-variant:small-caps;">las</span>
 is a much more logical choice from a medical perspective. Fortunately, 
since orientation is stored unambiguously, it is possible to later flip 
the images in the screen at will in most software.</li>
<li>The file format still relies too much on the file extension being <code>.nii</code> or on a pair <code>.hdr/.img</code>,
 rather than much less ambiguous magic strings or numbers. On the other 
hand, the different magic strings for single file and for file pairs 
effectively prevent the possibility of file splitting/merging using 
common operating system tools (such as <code>dd</code> in Linux), as the magic string needs to be changed, even though the header structure remains absolutely identical.</li>
<li>The magic string that is present in the header is not placed at the 
beginning, but near its end, which makes the file virtually 
unrecognisable outside of the neuroimaging field.</li>
<li>The specification of three different coordinate systems, while 
bringing flexibility, also brought ambiguity, as nowhere in the standard
 there is information on which should be preferred when more than one is
 present. Certain software packages explicitly force the <code>qform_code</code> and <code>sform_code</code> to be identical to each other.</li>
<li>There is no field specifying a preferred interpolation method when 
using Methods 2 or 3, even though these methods do allow fractional 
voxels to be found with the specification of world coordinates.</li>
<li>Method 2 allows only rotation and translation, but sometimes, due to
 all sorts of scanner calibration issues and different kinds of 
geometric distortion present in different sequences, the coregistration 
between two images of the same subject may require scaling and shear, 
which are only provided in Method 3.</li>
<li>Method 3 is supposed to inform that the data is aligned to a 
standard space using an affine transformation. This works perfectly if 
the data has been previously warped to such a space. Otherwise, the 
simple alignment of any actual brain from native to standard space 
cannot be obtained with only linear transformations.</li>
<li>To squeeze information while keeping compatibility with the <span style="font-variant:small-caps;">analyze</span> format, some fields had to be mangled into just one byte, such as <code>char dim_info</code> and <code>char xyzt_units</code>, which is not practical and require sub-byte manipulation.</li>
<li>The field <code>float vox_offset</code>, directly inherited from the <span style="font-variant:small-caps;">analyze</span> format, should in fact, be an integer. Having it as a float only adds confusion.</li>
<li>Not all software packages implement the format exactly in the same 
way. Vector-based data, for instance, which should be stored in the 5th 
dimension, is often stored in the 4th, which should be reserved for 
time. Although this is not a problem with the format itself, but with 
the use made of it, easy implementation malpractices lead to a 
dissemination of ambiguous and ill-formed files that eventually cannot 
be read in other applications as intended by the time of the file 
creation.</li>
</ul>
<p>Despite these issues, the format has been very successful as a means 
to exchange data between different software packages. An updated format,
 the <span style="font-variant:small-caps;">nifti 2.0</span>, with a header with more than 500 bytes of information, may become official soon. (UPDATE: details <a title="The NIFTI-2 file format" href="https://brainder.org/2015/04/03/the-nifti-2-file-format/" target="_blank" rel="noopener"><strong>here</strong></a>)</p>
<h2>More information</h2>
<p>The official definition of the <span style="font-variant:small-caps;">nifti</span> format is available as a <span style="font-variant:small-caps;">c</span> header file (<code>nifti1.h</code>) <a title="nifti1.h" href="http://nifti.nimh.nih.gov/pub/dist/src/niftilib/nifti1.h" target="_blank" rel="noopener"><strong>here</strong></a> and mirrored <a title="nifti1.h" href="https://s3.us-east-2.amazonaws.com/brainder/2012/nifti/nifti1.h" target="_blank" rel="noopener"><strong>here</strong></a>.</p>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing"><h3 class="sd-title">Disseminate</h3><div class="sd-content"><ul><li class="share-email share-service-visible"><a rel="nofollow noopener noreferrer" data-shared="" class="share-email sd-button share-icon no-text" href="https://brainder.org/2012/09/23/the-nifti-file-format/?share=email&amp;nb=1" target="_blank" title="Click to email this to a friend"><span></span><span class="sharing-screen-reader-text">Click to email this to a friend (Opens in new window)</span></a></li><li class="share-twitter"><a rel="nofollow noopener noreferrer" data-shared="sharing-twitter-1143" class="share-twitter sd-button share-icon no-text" href="https://brainder.org/2012/09/23/the-nifti-file-format/?share=twitter&amp;nb=1" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li><li class="share-linkedin"><a rel="nofollow noopener noreferrer" data-shared="sharing-linkedin-1143" class="share-linkedin sd-button share-icon no-text" href="https://brainder.org/2012/09/23/the-nifti-file-format/?share=linkedin&amp;nb=1" target="_blank" title="Click to share on LinkedIn"><span></span><span class="sharing-screen-reader-text">Click to share on LinkedIn (Opens in new window)</span></a></li><li class="share-facebook"><a rel="nofollow noopener noreferrer" data-shared="sharing-facebook-1143" class="share-facebook sd-button share-icon no-text" href="https://brainder.org/2012/09/23/the-nifti-file-format/?share=facebook&amp;nb=1" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li><li class="share-pinterest"><a rel="nofollow noopener noreferrer" data-shared="sharing-pinterest-1143" class="share-pinterest sd-button share-icon no-text" href="https://brainder.org/2012/09/23/the-nifti-file-format/?share=pinterest&amp;nb=1" target="_blank" title="Click to share on Pinterest"><span></span><span class="sharing-screen-reader-text">Click to share on Pinterest (Opens in new window)</span></a></li><li class="share-tumblr"><a rel="nofollow noopener noreferrer" data-shared="" class="share-tumblr sd-button share-icon no-text" href="https://brainder.org/2012/09/23/the-nifti-file-format/?share=tumblr&amp;nb=1" target="_blank" title="Click to share on Tumblr"><span></span><span class="sharing-screen-reader-text">Click to share on Tumblr (Opens in new window)</span></a></li><li class="share-pocket"><a rel="nofollow noopener noreferrer" data-shared="" class="share-pocket sd-button share-icon no-text" href="https://brainder.org/2012/09/23/the-nifti-file-format/?share=pocket&amp;nb=1" target="_blank" title="Click to share on Pocket"><span></span><span class="sharing-screen-reader-text">Click to share on Pocket (Opens in new window)</span></a></li><li class="share-reddit"><a rel="nofollow noopener noreferrer" data-shared="" class="share-reddit sd-button share-icon no-text" href="https://brainder.org/2012/09/23/the-nifti-file-format/?share=reddit&amp;nb=1" target="_blank" title="Click to share on Reddit"><span></span><span class="sharing-screen-reader-text">Click to share on Reddit (Opens in new window)</span></a></li><li class="share-print"><a rel="nofollow noopener noreferrer" data-shared="" class="share-print sd-button share-icon no-text" href="https://brainder.org/2012/09/23/the-nifti-file-format/#print" target="_blank" title="Click to print"><span></span><span class="sharing-screen-reader-text">Click to print (Opens in new window)</span></a></li><li class="share-end"></li></ul></div></div></div><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-loaded" id="like-post-wrapper-24487840-1143-5eed874943d3e" data-src="//widgets.wp.com/likes/index.html?ver=20190321#blog_id=24487840&amp;post_id=1143&amp;origin=brainder.wordpress.com&amp;obj_id=24487840-1143-5eed874943d3e&amp;domain=brainder.org" data-name="like-post-frame-24487840-1143-5eed874943d3e"><h3 class="sd-title">Like this:</h3><div class="likes-widget-placeholder post-likes-widget-placeholder" style="height: 55px; display: none;"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></div><iframe class="post-likes-widget jetpack-likes-widget" name="like-post-frame-24487840-1143-5eed874943d3e" src="nifti_header_info_files/index.html" width="100%" height="55px" frameborder="0"></iframe><span class="sd-text-color"></span><a class="sd-link-color"></a></div>
<div id="jp-relatedposts" class="jp-relatedposts" style="display: block;">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
<div class="jp-relatedposts-items jp-relatedposts-items-minimal"><p class="jp-relatedposts-post jp-relatedposts-post0" data-post-id="4349" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://brainder.org/2015/04/03/the-nifti-2-file-format/" title="The NIFTI-2 file format" data-origin="1143" data-position="0">The NIFTI-2 file format</a></span><span class="jp-relatedposts-post-context">In "File types"</span></p><p class="jp-relatedposts-post jp-relatedposts-post1" data-post-id="215" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://brainder.org/2011/08/13/converting-oasis-brains-to-nifti/" title="Converting OASIS brains to NIFTI" data-origin="1143" data-position="1">Converting OASIS brains to NIFTI</a></span><span class="jp-relatedposts-post-context">In "File types"</span></p><p class="jp-relatedposts-post jp-relatedposts-post2" data-post-id="378" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://brainder.org/2011/09/25/braindering-with-ascii-files/" title="Braindering with ASCII files" data-origin="1143" data-position="2">Braindering with ASCII files</a></span><span class="jp-relatedposts-post-context">In "File types"</span></p></div></div></div>			</div><!-- .entry-content -->

	<footer class="entry-meta">
		This entry was posted in <a href="https://brainder.org/category/neuroinformatics/file-types/" rel="category tag">File types</a>, <a href="https://brainder.org/category/neuroinformatics/" rel="category tag">Neuroinformatics</a> and tagged <a href="https://brainder.org/tag/file-format/" rel="tag">file format</a>, <a href="https://brainder.org/tag/header/" rel="tag">header</a>, <a href="https://brainder.org/tag/nifti/" rel="tag">nifti</a>, <a href="https://brainder.org/tag/nii/" rel="tag">nii</a>, <a href="https://brainder.org/tag/nii-gz/" rel="tag">nii.gz</a> by <a href="https://brainder.org/author/andersonwinkler/">A. M. Winkler</a>. Bookmark the <a href="https://brainder.org/2012/09/23/the-nifti-file-format/" title="Permalink to The NIFTI file&nbsp;format" rel="bookmark">permalink</a>.		
			</footer><!-- .entry-meta -->
</article><!-- #post-1143 -->

						<div id="comments">
	
	
			<h2 id="comments-title">
			60 thoughts on “<span>The NIFTI file&nbsp;format</span>”		</h2>

		
		<ol class="commentlist">
				<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-394">
		<article id="comment-394" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/6e0c2b813999322404c84c9b3b9bb097.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-6e0c2b813999322404c84c9b3b9bb097-0" width="68" height="68"><span class="fn">Xiangrui Li</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-394"><time datetime="2013-05-23T02:48:48-04:00">23.May.2013 at 02:48</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>This is the best description of nifti format I have ever seen.<br>
Is there a typo the decreasing interleaved slice order? I think it should start with nth slices, rather than 1st or 2nd.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=394#respond" data-commentid="394" data-postid="1143" data-belowelement="comment-394" data-respondelement="respond" aria-label="Reply to Xiangrui Li">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-395">
		<article id="comment-395" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-0" width="39" height="39"><span class="fn"><a href="http://brainder.org/" rel="external nofollow ugc" class="url">A. M. Winkler</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-395"><time datetime="2013-05-23T16:23:08-04:00">23.May.2013 at 16:23</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Li, thanks for the comment. I 
agree with you that it’s more clear if the description shows nth or 
nth-1. I just changed this in the table, calling these as “last” or “one
 before the last”. Thanks! Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=395#respond" data-commentid="395" data-postid="1143" data-belowelement="comment-395" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment even depth-3 highlander-comment" id="li-comment-17453">
		<article id="comment-17453" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/45f0a3b147a710191c95b82bd73327fa.png" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-45f0a3b147a710191c95b82bd73327fa-0" width="39" height="39"><span class="fn">David Sternman</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-17453"><time datetime="2019-01-08T11:03:51-05:00">08.January.2019 at 11:03</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>I prefer ultimate and penultimate!</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=17453#respond" data-commentid="17453" data-postid="1143" data-belowelement="comment-17453" data-respondelement="respond" aria-label="Reply to David Sternman">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-409">
		<article id="comment-409" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/6e0c2b813999322404c84c9b3b9bb097.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-6e0c2b813999322404c84c9b3b9bb097-1" width="68" height="68"><span class="fn">Xiangrui Li</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-409"><time datetime="2013-06-09T15:08:47-04:00">09.June.2013 at 15:08</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>There seems to be a typo in the header summay. It should be scl_inter, rather than scl_offset.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=409#respond" data-commentid="409" data-postid="1143" data-belowelement="comment-409" data-respondelement="respond" aria-label="Reply to Xiangrui Li">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor even depth-2 highlander-comment" id="li-comment-411">
		<article id="comment-411" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-1" width="39" height="39"><span class="fn"><a href="http://brainder.org/" rel="external nofollow ugc" class="url">A. M. Winkler</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-411"><time datetime="2013-06-09T15:18:44-04:00">09.June.2013 at 15:18</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Li, thanks for catching. I just fixed it in the table. In the text it was fine. Thanks! Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=411#respond" data-commentid="411" data-postid="1143" data-belowelement="comment-411" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-420">
		<article id="comment-420" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/faa40ebd8d47acf45705543af9a3a3b8.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-faa40ebd8d47acf45705543af9a3a3b8-0" width="68" height="68"><span class="fn">T C Wood</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-420"><time datetime="2013-06-13T21:06:00-04:00">13.June.2013 at 21:06</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>This is the guide to NIFTI that I’ve 
been meaning to write myself, and I agree whole-heartedly with your 
description of the problems of the format. Good work!</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=420#respond" data-commentid="420" data-postid="1143" data-belowelement="comment-420" data-respondelement="respond" aria-label="Reply to T C Wood">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-1317">
		<article id="comment-1317" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/ff5215727ef228516a0f37dea48b7bb2.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-ff5215727ef228516a0f37dea48b7bb2-0" width="68" height="68"><span class="fn">Liang</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-1317"><time datetime="2013-11-29T17:17:12-05:00">29.November.2013 at 17:17</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Appreciate for your information, it’s really helpful</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=1317#respond" data-commentid="1317" data-postid="1143" data-belowelement="comment-1317" data-respondelement="respond" aria-label="Reply to Liang">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-1650">
		<article id="comment-1650" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/750415178eb36bde1107d6b071fa72a0.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-750415178eb36bde1107d6b071fa72a0-0" width="68" height="68"><span class="fn">hopeindoor</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-1650"><time datetime="2014-02-02T00:21:01-05:00">02.February.2014 at 00:21</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>One question regarding the sform_code
 and qform_code, according to your description here, qform_code=1 is 
method 2, and sform_code=1 is method 3, but my dataset has both 
qform_code and sform_code=1, which method I should use? Thanks.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=1650#respond" data-commentid="1650" data-postid="1143" data-belowelement="comment-1650" data-respondelement="respond" aria-label="Reply to hopeindoor">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor even depth-2 highlander-comment" id="li-comment-1688">
		<article id="comment-1688" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-2" width="39" height="39"><span class="fn"><a href="http://brainder.org/" rel="external nofollow ugc" class="url">A. M. Winkler</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-1688"><time datetime="2014-02-02T15:33:02-05:00">02.February.2014 at 15:33</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi,</p>
<p>The description here follows closely the NIFTI standard (nifti1.h), 
which, unfortunatelly, doesn’t specify which of the methods should be 
used when more than one is present. This is one of the problems I 
mention at the end of the article.</p>
<p>If you are lucky, methods 2 and 3 for your dataset should give the 
same orientation (i.e., with rotation/translation only). If not, and if 
you have the full affine matrix stored in the header, I believe it’d be 
fair to assume method 3. But I agree that this is an issue with the file
 format itself.</p>
<p>All the best,</p>
<p>Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=1688#respond" data-commentid="1688" data-postid="1143" data-belowelement="comment-1688" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-2308">
		<article id="comment-2308" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/ca179afae9dd3a2171807a6dec49a2e7.jpeg" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-ca179afae9dd3a2171807a6dec49a2e7-0" width="68" height="68"><span class="fn">mark</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-2308"><time datetime="2014-02-15T14:24:10-05:00">15.February.2014 at 14:24</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>hi, </p>
<p>thank you for your extremely helpful post.<br>
i’ve read in the header but how do I go about reading the actual image data?<br>
Do you have pseudo code for this?</p>
<p>for dim[] I get the following out:</p>
<p>dim[0] = 3<br>
dim[1] = 256<br>
dim[2] = 256<br>
dim[3] = 130<br>
dim[4] = 1<br>
dim[5] = 1<br>
dim[6] = 1<br>
dim[7] = 1</p>
<p>and for bitpix I get 16</p>
<p>if I want to get the raw data in an array do you have code for this?</p>
<p>so vox[0,0,0] = [x,y,y]<br>
… vox[10, 10, 10] = x10, y10, z10]…etc</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=2308#respond" data-commentid="2308" data-postid="1143" data-belowelement="comment-2308" data-respondelement="respond" aria-label="Reply to mark">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor even depth-2 highlander-comment" id="li-comment-2353">
		<article id="comment-2353" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-3" width="39" height="39"><span class="fn"><a href="http://brainder.org/" rel="external nofollow ugc" class="url">A. M. Winkler</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-2353"><time datetime="2014-02-17T01:12:52-05:00">17.February.2014 at 01:12</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi,<br>
It’s straightforward to read: just take the information from “bitpix” 
and “datatype” to know how many bytes and type for each voxel, and read 
into an array fo the sizes given in “dim” (indeed, as it seems you are 
already doing). The storage is RAS, i.e., the the first dimension to be 
filled (i.e., that runs faster), is “x”, from left to right, then “y” 
from posterior to anterior, then “z”, from inferior to superior. Of 
course these directions may not correspond to the actual brain 
orientation (if this is at all a brain), but once read, you adjust the 
orientation using one of the 3 orientation methods from the header, as 
described above.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=2353#respond" data-commentid="2353" data-postid="1143" data-belowelement="comment-2353" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-3729">
		<article id="comment-3729" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/3bdc1e65d1827b43cee33a0175df5ce9.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-3bdc1e65d1827b43cee33a0175df5ce9-0" width="68" height="68"><span class="fn">Jean-Christophe Houde</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-3729"><time datetime="2014-03-25T19:48:29-04:00">25.March.2014 at 19:48</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi,</p>
<p>a discussion is currently taking place between my colleague and me about the definition of the origin of the voxels.</p>
<p>According to the standard and to your explanation, “The file standard
 assumes that the voxel coordinates refer to the center of each voxel, 
rather than at any of its corners.” That makes perfect sense. However, 
let’s consider the left most, most posterior, most inferior voxel. In 
voxel coordinates, that voxel is [0,0,0]. Now, let’s say you transform 
this voxel to world coordinates, using method 2. You apply the 
transformation to [0,0,0], and get the coordinates of the center of that
 voxel in world coordinates. If the transform is identity, that would 
mean that the world coordinates of the center of the voxel will also be 
[0,0,0], right? </p>
<p>If that is the case, let’s suppose that our voxel size is [1,1,1]. In
 that case, it would also mean that world points in the range</p>
<p>[-0.5, -0.5, -0.5] to [0.5, 0.5, 0.5]</p>
<p>are considered to be in voxel [0,0,0], right?</p>
<p>I just wanted to validate that my understanding is correct. If it is 
not correct, then does it mean that the shift to bring the center to the
 center of the voxel in world coordinates should also be included in the
 transform?</p>
<p>Thanks a lot</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=3729#respond" data-commentid="3729" data-postid="1143" data-belowelement="comment-3729" data-respondelement="respond" aria-label="Reply to Jean-Christophe Houde">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor even depth-2 highlander-comment" id="li-comment-3730">
		<article id="comment-3730" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-4" width="39" height="39"><span class="fn"><a href="http://brainder.org/" rel="external nofollow ugc" class="url">A. M. Winkler</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-3730"><time datetime="2014-03-25T21:18:31-04:00">25.March.2014 at 21:18</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi,<br>
Your understanding looks correct. The translation shouldn’t ordinarily 
include the voxel size (or even half of it) unless one really wants to 
shift the image so that the coordinates end up representing one of the 
voxel corners. In the example you gave, yes, a coordinate such as -0.3 
or +0.4 would “belong” to the voxel at position 0, whereas a coordinate 
such as 0.6 would belong to the voxel 1.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=3730#respond" data-commentid="3730" data-postid="1143" data-belowelement="comment-3730" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-5891">
		<article id="comment-5891" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/6af25178980d2865af31521b667d3d69_002.jpeg" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-6af25178980d2865af31521b667d3d69-0" width="68" height="68"><span class="fn">francesco</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-5891"><time datetime="2014-09-14T11:17:00-04:00">14.September.2014 at 11:17</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi at all. Is it possible to convert 
back to dicom a processed nifty file? I am speaking about raw diffusion 
data after motion correction…I have used dtiprep and then dwiconvert 
supplying as arguments the original bval and bvecs but when I convert to
 dicom (xmedconv) the file is not imported as tensor anymore…<br>
thanks</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=5891#respond" data-commentid="5891" data-postid="1143" data-belowelement="comment-5891" data-respondelement="respond" aria-label="Reply to francesco">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor even depth-2 highlander-comment" id="li-comment-5897">
		<article id="comment-5897" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-5" width="39" height="39"><span class="fn"><a href="http://brainder.org/" rel="external nofollow ugc" class="url">A. M. Winkler</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-5897"><time datetime="2014-09-14T17:46:47-04:00">14.September.2014 at 17:46</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Francesco,<br>
The NIFTI format contains far less information than the DICOM, so a 
complete recovery isn’t possible directly. However, it’s possible to 
generate new DICOM files using the information that can be captured from
 the NIFTI header, plus information about the sequence and other 
parameters that you may have from the original DICOM files. If you have 
Matlab, have a look at the commands dicomread, dicomwrite and dicominfo 
from the Image Processing Toolbox. For the bvecs and bvals, these are 
manufacturer-specific; this page may help: <a href="http://wiki.na-mic.org/Wiki/index.php/NAMIC_Wiki:DTI:DICOM_for_DWI_and_DTI" rel="nofollow ugc">http://wiki.na-mic.org/Wiki/index.php/NAMIC_Wiki:DTI:DICOM_for_DWI_and_DTI</a><br>
All the best,<br>
Anderson </p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=5897#respond" data-commentid="5897" data-postid="1143" data-belowelement="comment-5897" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment odd alt depth-3 highlander-comment" id="li-comment-5898">
		<article id="comment-5898" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/6af25178980d2865af31521b667d3d69.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-6af25178980d2865af31521b667d3d69-1" width="39" height="39"><span class="fn">francesco</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-5898"><time datetime="2014-09-14T17:48:48-04:00">14.September.2014 at 17:48</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Thank you for your detailed answer:it is really helpful!</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=5898#respond" data-commentid="5898" data-postid="1143" data-belowelement="comment-5898" data-respondelement="respond" aria-label="Reply to francesco">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-7635">
		<article id="comment-7635" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/70ed9ed2bcf372817deeb5296781b8d5.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-70ed9ed2bcf372817deeb5296781b8d5-0" width="68" height="68"><span class="fn">FLY</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-7635"><time datetime="2014-11-12T02:39:44-05:00">12.November.2014 at 02:39</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi,I am doing some research for DTI(Diffusion tensor imaging)<br>
Could you give me some programs for DTI? I want to achieve D Matrix with c++.Thanks a lot…</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=7635#respond" data-commentid="7635" data-postid="1143" data-belowelement="comment-7635" data-respondelement="respond" aria-label="Reply to FLY">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-7642">
		<article id="comment-7642" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-6" width="39" height="39"><span class="fn"><a href="http://brainder.org/" rel="external nofollow ugc" class="url">A. M. Winkler</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-7642"><time datetime="2014-11-12T08:33:50-05:00">12.November.2014 at 08:33</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi,<br>
By D-matrix do you mean the tensor? It’s a linear regression. Please have a look at FSL’s dtifit command.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=7642#respond" data-commentid="7642" data-postid="1143" data-belowelement="comment-7642" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-7651">
		<article id="comment-7651" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/70ed9ed2bcf372817deeb5296781b8d5.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-70ed9ed2bcf372817deeb5296781b8d5-1" width="68" height="68"><span class="fn">FLY</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-7651"><time datetime="2014-11-13T01:56:47-05:00">13.November.2014 at 01:56</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi<br>
Appreciation and thanks for your reply.but I am sorry that i’m not 
familiar with  FSL.FSL is a software or a toolbox that can be used by 
c++?Can you give me a detailed instructions?Besides,Do you learn of ITK?<br>
Thanks…</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=7651#respond" data-commentid="7651" data-postid="1143" data-belowelement="comment-7651" data-respondelement="respond" aria-label="Reply to FLY">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-7663">
		<article id="comment-7663" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-7" width="39" height="39"><span class="fn"><a href="http://brainder.org/" rel="external nofollow ugc" class="url">A. M. Winkler</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-7663"><time datetime="2014-11-13T10:02:04-05:00">13.November.2014 at 10:02</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi,<br>
FSL is a software package written in C/C++ that does what you’re trying 
to do. However, it’s not a C++ library, but a set of commands that can 
be invoked by the end user. The tool in FSL that does the tensor fit is 
called “dtifit”, but there are a few preprocessing steps (e.g., obtain 
the directions from the DICOM files, eddy correction, etc). I’m unaware 
of an actual library that could be linked to your program. However, the 
fit of the tensor is a relatively simple procedure that can be done 
easily with matrix algebra libraries (e.g. Armadillo, Eigen, etc) once 
you have put together the information you need.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=7663#respond" data-commentid="7663" data-postid="1143" data-belowelement="comment-7663" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment even depth-3 highlander-comment" id="li-comment-7839">
		<article id="comment-7839" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/70ed9ed2bcf372817deeb5296781b8d5_002.png" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-70ed9ed2bcf372817deeb5296781b8d5-2" width="39" height="39"><span class="fn">FLY</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-7839"><time datetime="2014-11-19T07:43:14-05:00">19.November.2014 at 07:43</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Thanks for your reply!<br>
but there is a problem bothering me.<br>
How can I get the DTI deamplification from a mri image?<br>
thanks…</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=7839#respond" data-commentid="7839" data-postid="1143" data-belowelement="comment-7839" data-respondelement="respond" aria-label="Reply to FLY">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-4 highlander-comment" id="li-comment-7843">
		<article id="comment-7843" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-8" width="39" height="39"><span class="fn"><a href="http://brainder.org/" rel="external nofollow ugc" class="url">A. M. Winkler</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-7843"><time datetime="2014-11-19T10:39:45-05:00">19.November.2014 at 10:39</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Sorry, I don’t really know what you are talking about.</p>
</div>

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-7652">
		<article id="comment-7652" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/70ed9ed2bcf372817deeb5296781b8d5.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-70ed9ed2bcf372817deeb5296781b8d5-3" width="68" height="68"><span class="fn">FLY</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-7652"><time datetime="2014-11-13T02:02:29-05:00">13.November.2014 at 02:02</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Of course,the D-matrix is the tensor.Looking  forward to your reply…</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=7652#respond" data-commentid="7652" data-postid="1143" data-belowelement="comment-7652" data-respondelement="respond" aria-label="Reply to FLY">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-7664">
		<article id="comment-7664" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-9" width="39" height="39"><span class="fn"><a href="http://brainder.org/" rel="external nofollow ugc" class="url">A. M. Winkler</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-7664"><time datetime="2014-11-13T10:02:20-05:00">13.November.2014 at 10:02</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>I’ve just replied, please see above.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=7664#respond" data-commentid="7664" data-postid="1143" data-belowelement="comment-7664" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="post pingback">
		<p>Pingback: <a href="https://brainder.org/2015/04/03/the-nifti-2-file-format/" rel="external nofollow ugc" class="url">The NIFTI-2 file format | Brainder.</a></p>
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-10726">
		<article id="comment-10726" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/fa2a1adf3ecedebfd27dd0080551dbe4.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-fa2a1adf3ecedebfd27dd0080551dbe4-0" width="68" height="68"><span class="fn">Mehdi Behroozi</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-10726"><time datetime="2015-06-04T09:11:48-04:00">04.June.2015 at 09:11</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Dear All<br>
I need your help to solve my problem in related with .nii file.<br>
I have small pigeon brain MR image. the voxel size is 250*250*700 
micron. I want to resize them to 2.5*2.5*7 millimeter. could you please 
help me how can I do. I found out some about the nii file but still I 
have problem.</p>
<p>nii.hdr.dime.pixdim(:,2)=10*nii.hdr.dime.pixdim(:,2);<br>
nii.hdr.dime.pixdim(:,3)=10*nii.hdr.dime.pixdim(:,3);<br>
nii.hdr.dime.pixdim(:,4)=10*nii.hdr.dime.pixdim(:,4);</p>
<p>nii.hdr.hist.srow_x(1,1)=10*nii.hdr.hist.srow_x(1,1);<br>
nii.hdr.hist.srow_y(1,2)=10*nii.hdr.hist.srow_y(1,2);<br>
nii.hdr.hist.srow_z(1,3)=10*nii.hdr.hist.srow_z(1,3);</p>
<p>I applied this function to change the size but when I try to apply ICA analysis in FSL everything were changed.<br>
is there other parameter that I have to change it?</p>
<p>Thanks in advance for your help.<br>
My email is : <a href="mailto:behroozi.mehdi2007@gmail.com">behroozi.mehdi2007@gmail.com</a>.</p>
<p>Cheers,<br>
Mehdi</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=10726#respond" data-commentid="10726" data-postid="1143" data-belowelement="comment-10726" data-respondelement="respond" aria-label="Reply to Mehdi Behroozi">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-10729">
		<article id="comment-10729" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-10" width="39" height="39"><span class="fn">A. M. Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-10729"><time datetime="2015-06-04T10:31:04-04:00">04.June.2015 at 10:31</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Mehdi,<br>
It’s probably better to send questions as these to the FSL mailing list (you can subscribe here: <a href="https://www.jiscmail.ac.uk/cgi-bin/webadmin?A0=FSL" rel="nofollow ugc">https://www.jiscmail.ac.uk/cgi-bin/webadmin?A0=FSL</a>)<br>
You’ll also need to clarify if you need resampling or just change the 
header so that the voxels are interpreted as having different sizes.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=10729#respond" data-commentid="10729" data-postid="1143" data-belowelement="comment-10729" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment even depth-3 highlander-comment" id="li-comment-10730">
		<article id="comment-10730" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/fa2a1adf3ecedebfd27dd0080551dbe4_002.png" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-fa2a1adf3ecedebfd27dd0080551dbe4-1" width="39" height="39"><span class="fn">Mehdi Behroozi</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-10730"><time datetime="2015-06-04T10:39:03-04:00">04.June.2015 at 10:39</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Dear AndersonT<br>
Thanks in advance for your reply.<br>
I just want to resize it in header file. I don’t need resampling.</p>
<p>Cheers,<br>
Mehdi</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=10730#respond" data-commentid="10730" data-postid="1143" data-belowelement="comment-10730" data-respondelement="respond" aria-label="Reply to Mehdi Behroozi">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-4 highlander-comment" id="li-comment-10763">
		<article id="comment-10763" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-11" width="39" height="39"><span class="fn">A. M. Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-10763"><time datetime="2015-06-08T14:22:51-04:00">08.June.2015 at 14:22</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Mehdi,<br>
You should be able to write a small script in Matlab or similar to edit 
the header. The command “fsledithd” should also be able to do it. If in 
doubt on how to do it, please send an email to the FSL list.<br>
Anderson</p>
</div>

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even depth-2 highlander-comment" id="li-comment-12238">
		<article id="comment-12238" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/6e0c2b813999322404c84c9b3b9bb097_002.png" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-6e0c2b813999322404c84c9b3b9bb097-2" width="39" height="39"><span class="fn">Xiangrui Li</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-12238"><time datetime="2015-11-22T21:20:17-05:00">22.November.2015 at 21:20</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>It seems you are using matlab. My NIfTI tool has a functionality does exactly what you need. The link is <a href="http://www.mathworks.com/matlabcentral/fileexchange/42997" rel="nofollow ugc">http://www.mathworks.com/matlabcentral/fileexchange/42997</a><br>
The function is nii_xform.m, but you can also do it from nii_viewer with
 GUI, File -&gt; Save NIfTI as -&gt; file with a new resolution.</p>
<p>As far as I can tell, it is not right to multiply srow by 10 in your post.</p>
<p>Hope this helps.<br>
-Xiangrui</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=12238#respond" data-commentid="12238" data-postid="1143" data-belowelement="comment-12238" data-respondelement="respond" aria-label="Reply to Xiangrui Li">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-12158">
		<article id="comment-12158" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/fcb510ccbd4bb76ee0725f27db195dc8.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-fcb510ccbd4bb76ee0725f27db195dc8-0" width="68" height="68"><span class="fn">Shawn</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-12158"><time datetime="2015-11-09T06:10:06-05:00">09.November.2015 at 06:10</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hello dear all!</p>
<p>I encountered a problem really bothers me.<br>
I have several slices of a patient’s brain CT image.<br>
They are 512×512 matrix each slice and I color it, become 512x512x3 RGB images now, using Matlab.<br>
What should I do to make those images to “A” NIfTI file?</p>
<p>thanks a lot, I’m getting crazy lol</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=12158#respond" data-commentid="12158" data-postid="1143" data-belowelement="comment-12158" data-respondelement="respond" aria-label="Reply to Shawn">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor even depth-2 highlander-comment" id="li-comment-12173">
		<article id="comment-12173" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-12" width="39" height="39"><span class="fn">A. M. Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-12173"><time datetime="2015-11-11T22:27:41-05:00">11.November.2015 at 22:27</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Shawn,</p>
<p>The proper way to store RGB data is to put the 3 colours in the 5th 
dimension, such that you’d save it as 512 x 512 x 1 x 1 x 3, and use the
 intent code “2003”. However, as of today, I am unaware of any software 
that actually implements the standard up to that dimension and considers
 these intents properly, such that, unfortunately, the file may not be 
recognisable or shown properly, with the proper colours, by many 
viewers.</p>
<p>All the best,</p>
<p>Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=12173#respond" data-commentid="12173" data-postid="1143" data-belowelement="comment-12173" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
	<li class="comment odd alt depth-2 highlander-comment" id="li-comment-12236">
		<article id="comment-12236" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/6e0c2b813999322404c84c9b3b9bb097_002.png" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-6e0c2b813999322404c84c9b3b9bb097-3" width="39" height="39"><span class="fn">Xiangrui Li</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-12236"><time datetime="2015-11-22T21:06:51-05:00">22.November.2015 at 21:06</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>One way to store RGB data is 
mentioned in Anderson’s reply. According to NIfTI standard, you can also
 save it as RGB datatype. Then the arrangement for your example will be 
3x256x256, and datatype should be set according to your data range (0~1 
single or 0~255 uint8).</p>
<p>You can use my nii_tool for matlab to deal with this easily. The link is<br>
<a href="http://www.mathworks.com/matlabcentral/fileexchange/42997" rel="nofollow ugc">http://www.mathworks.com/matlabcentral/fileexchange/42997</a></p>
<p>-Xiangrui</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=12236#respond" data-commentid="12236" data-postid="1143" data-belowelement="comment-12236" data-respondelement="respond" aria-label="Reply to Xiangrui Li">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-13197">
		<article id="comment-13197" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/7d05f27b070106edaa835e523d9775b9.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-7d05f27b070106edaa835e523d9775b9-0" width="68" height="68"><span class="fn">Sascha F</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13197"><time datetime="2016-08-17T11:27:04-04:00">17.August.2016 at 11:27</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>If I open a nifti-file in, say, fsl, 
and both qform_code and sform_code are larger than zero, how do I know 
which method (method 2 or method 3) is used to display the image?</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13197#respond" data-commentid="13197" data-postid="1143" data-belowelement="comment-13197" data-respondelement="respond" aria-label="Reply to Sascha F">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-13198">
		<article id="comment-13198" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-13" width="39" height="39"><span class="fn">Anderson Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13198"><time datetime="2016-08-19T11:19:01-04:00">19.August.2016 at 11:19</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Sascha,<br>
Depends on the implementation used by the program. The NIFTI standard 
does not specify which is preferred, although it seems sensible to use 
Method 3 (sform_code&gt;0), but this depends whether the developer 
implemented the full standard or not. In FSLeyes (the upcoming FSL 
viewer) fully supports Method 3.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13198#respond" data-commentid="13198" data-postid="1143" data-belowelement="comment-13198" data-respondelement="respond" aria-label="Reply to Anderson Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-13247">
		<article id="comment-13247" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/e8aa2b1bbc2f5799d628557d7da1a859.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-e8aa2b1bbc2f5799d628557d7da1a859-0" width="68" height="68"><span class="fn">M</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13247"><time datetime="2016-10-05T16:00:47-04:00">05.October.2016 at 16:00</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hey Anderson and fellow readers.<br>
What does “xyzt_units: 10” mean? I have found it in 3 different datasets, all of whom are NIFTI 1 format.</p>
<p>Thank you.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13247#respond" data-commentid="13247" data-postid="1143" data-belowelement="comment-13247" data-respondelement="respond" aria-label="Reply to M">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-13248">
		<article id="comment-13248" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-14" width="39" height="39"><span class="fn">Anderson Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13248"><time datetime="2016-10-05T21:45:02-04:00">05.October.2016 at 21:45</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi,</p>
<p>This field needs to be converted to binary (i.e., base 2) according 
to the endianness. Then the first 3 bits are units for space, the next 3
 are units for time.</p>
<p>What you have is 2 + 8, indicating milimetres and seconds, that in 
base 2 is: [0 1 0 1 0 0 0 0] = 10, where [0 1 0 0 0 0 0 0] = 2 and [0 0 0
 1 0 0 0 0] = 8.</p>
<p>Hope this helps!</p>
<p>All the best,</p>
<p>Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13248#respond" data-commentid="13248" data-postid="1143" data-belowelement="comment-13248" data-respondelement="respond" aria-label="Reply to Anderson Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-13255">
		<article id="comment-13255" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/e5d01cb428f4b22161e0d17895a5c678.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-e5d01cb428f4b22161e0d17895a5c678-0" width="68" height="68"><span class="fn">kruthika</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13255"><time datetime="2016-10-16T20:24:51-04:00">16.October.2016 at 20:24</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>I have very basic question to ask.  I
 am just naive , out of curiosity i just want to know . What does the 3 
dimensions of MRI image represent ?? say I have size details of 2 images
 Nifti format 1.  img: [160x192x192 uint16] 2.  [176x240x256 uint16] 
here why the channels differ ? aren’t they should be same ?</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13255#respond" data-commentid="13255" data-postid="1143" data-belowelement="comment-13255" data-respondelement="respond" aria-label="Reply to kruthika">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-13256">
		<article id="comment-13256" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-15" width="39" height="39"><span class="fn">Anderson Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13256"><time datetime="2016-10-17T08:04:49-04:00">17.October.2016 at 08:04</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Kruthika,<br>
These aren’t really channels but the dimensions of the image in voxels 
(i.e., volumetric pixels). The 3 dimensions are akin to width, length 
and height, although the order of each of these vary depending on other 
fields of the header. It can even be all oblique/tilted.<br>
Hope this helps.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13256#respond" data-commentid="13256" data-postid="1143" data-belowelement="comment-13256" data-respondelement="respond" aria-label="Reply to Anderson Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment byuser comment-author-kumokochiu even thread-even depth-1 highlander-comment" id="li-comment-13284">
		<article id="comment-13284" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/03d20e1dfddd6c5b08409af4e332a645.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-03d20e1dfddd6c5b08409af4e332a645-0" width="68" height="68"><span class="fn"><a href="http://kumokochiu.wordpress.com/" rel="external nofollow ugc" class="url">kumokochiu</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13284"><time datetime="2016-11-15T14:25:17-05:00">15.November.2016 at 14:25</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Reblogged this on <a href="https://kumokochiu.wordpress.com/2016/11/15/the-nifti-file-format/" rel="nofollow">kくuもmこo☁</a> and commented:<br>
The NIfTI format</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13284#respond" data-commentid="13284" data-postid="1143" data-belowelement="comment-13284" data-respondelement="respond" aria-label="Reply to kumokochiu">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-13414">
		<article id="comment-13414" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/d6188503d799555d0f3940d29e196d3d.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-d6188503d799555d0f3940d29e196d3d-0" width="68" height="68"><span class="fn">Hesham</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13414"><time datetime="2017-01-26T09:36:26-05:00">26.January.2017 at 09:36</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi all,<br>
I have a question. I found the displacement field of the deformation of 
two images. I load the nifty file as nii and I found the histogram of 
the img which is a 5-dimensional image file. I want to know the unit of 
the x-axis.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13414#respond" data-commentid="13414" data-postid="1143" data-belowelement="comment-13414" data-respondelement="respond" aria-label="Reply to Hesham">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor even depth-2 highlander-comment" id="li-comment-13415">
		<article id="comment-13415" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-16" width="39" height="39"><span class="fn">Anderson Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13415"><time datetime="2017-01-27T13:49:28-05:00">27.January.2017 at 13:49</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Hesham,<br>
This information is stored in the field xyzt_units. You need to convert 
to binary, then read using the code indicated in the article. Typically 
it’s milimetres, though.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13415#respond" data-commentid="13415" data-postid="1143" data-belowelement="comment-13415" data-respondelement="respond" aria-label="Reply to Anderson Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-13420">
		<article id="comment-13420" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/a4ec9ae99ed6909f7ae88f2b58810f11_002.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-a4ec9ae99ed6909f7ae88f2b58810f11-0" width="68" height="68"><span class="fn"><a href="http://www.hospitalregionaldemalaga.es/" rel="external nofollow ugc" class="url">Félix</a></span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13420"><time datetime="2017-02-03T19:51:32-05:00">03.February.2017 at 19:51</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi all,</p>
<p>Please let me ask you for advice on this issue.</p>
<p>I have two nifti volumes (from the same MR session and patient). One 
is the ADC map (converted from dicom to nifti using tool1) and the other
 one is the ROI depicted over other the T1w volume (converted from dicom
 to nifti using tool2). If I want to compute some statistics on the ADC 
but restricted to the ROI I need to transform the ROI to the ijk space 
of the ADC nifti.</p>
<p>Let qform be the 4×4 matrix composed by the rotation matrix, the 
translation collum, and a final row (0,0,0,1). So the transformation 
should be as easy as ijj’ = (qform_ADC^-1 * qform_ROI) * ijk, where ijk 
is the location in the matrix containing ROI=true and a final 1.</p>
<p>Am I wrong?</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13420#respond" data-commentid="13420" data-postid="1143" data-belowelement="comment-13420" data-respondelement="respond" aria-label="Reply to Félix">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor even depth-2 highlander-comment" id="li-comment-13421">
		<article id="comment-13421" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-17" width="39" height="39"><span class="fn">Anderson Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13421"><time datetime="2017-02-04T19:45:11-05:00">04.February.2017 at 19:45</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Félix,<br>
Even if the images are from the same subject and same scanner, the 
different sequences may not ensure perfect alignment based only on the 
affine transformations derived from the DICOM/NIFTI. Consider using a 
realignment tool, such as FSL FLIRT.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13421#respond" data-commentid="13421" data-postid="1143" data-belowelement="comment-13421" data-respondelement="respond" aria-label="Reply to Anderson Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment odd alt depth-3 highlander-comment" id="li-comment-13422">
		<article id="comment-13422" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/a4ec9ae99ed6909f7ae88f2b58810f11.png" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-a4ec9ae99ed6909f7ae88f2b58810f11-1" width="39" height="39"><span class="fn">Felix</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13422"><time datetime="2017-02-05T17:23:01-05:00">05.February.2017 at 17:23</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Thanks for your comment.<br>
Nifti files were previously registered.Thats why I think that there is something that  I’m not understanding.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13422#respond" data-commentid="13422" data-postid="1143" data-belowelement="comment-13422" data-respondelement="respond" aria-label="Reply to Felix">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="post pingback">
		<p>Pingback: <a href="http://www.brianlab.com/in-depth-guide-to-the-nifti-file-format/" rel="external nofollow ugc" class="url">In depth guide to the NIFTI file format – BRIANLAB</a></p>
	</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-13517">
		<article id="comment-13517" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/b967eea104407c75fc4655a16dbb6b32.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-b967eea104407c75fc4655a16dbb6b32-0" width="68" height="68"><span class="fn">sunny</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13517"><time datetime="2017-05-04T10:25:38-04:00">04.May.2017 at 10:25</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi all,<br>
   I have a question . I want to know if I can read patients’ information from NIFTI, such as patients’ name, sex and so on.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13517#respond" data-commentid="13517" data-postid="1143" data-belowelement="comment-13517" data-respondelement="respond" aria-label="Reply to sunny">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-13519">
		<article id="comment-13519" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-18" width="39" height="39"><span class="fn">Anderson Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13519"><time datetime="2017-05-04T12:22:46-04:00">04.May.2017 at 12:22</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Sunny,<br>
The NIFTI format doesn’t include fields to store this information. 
Sometimes, patient name may be (incorrectly) stored in the “description”
 field, but that is a misuse of the format, which isn’t supposed to 
convey this kind of information.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13519#respond" data-commentid="13519" data-postid="1143" data-belowelement="comment-13519" data-respondelement="respond" aria-label="Reply to Anderson Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-13636">
		<article id="comment-13636" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/9fd1f9d14cdde0db5305cad11183e19b.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-9fd1f9d14cdde0db5305cad11183e19b-0" width="68" height="68"><span class="fn">Karim MAKKI</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13636"><time datetime="2017-06-15T06:53:42-04:00">15.June.2017 at 06:53</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Dear all,<br>
I use NIFTI files in the context of MRI registration.<br>
I would like to apply an affine transformation T  to a point Pf=[If, Jf,
 Kf] expressed in voxels in the floating image inorder to obtain its 
voxel coordinates Pt=[It, Jt, kj] in the target image.<br>
Let’s say, i would like to resolve this problem : Pt= T*Pf.<br>
For that:<br>
1) I first convert [If, Jf, Kf] to the real word coordinates [Xf, Yf, Zf] using floating_image.affine<br>
2) I apply T to [Xf, Yf, Zf]  to obtain the world coordinates of the warped point into  the target image [Xt, Yt, Zt]<br>
3) Finally i convert [Xt, Yt, Zt] to the voxel space [It, Jt, Kt] using the inverse of reference_image.affine<br>
Unfortunately this gives wrong coordinates when [It, Jt, Kt] comparing 
them to fsl img2imgcoord results for the same point. I also visually  
checked that my new calculated coordinates are wrong in the images.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13636#respond" data-commentid="13636" data-postid="1143" data-belowelement="comment-13636" data-respondelement="respond" aria-label="Reply to Karim MAKKI">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-13648">
		<article id="comment-13648" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-19" width="39" height="39"><span class="fn">A. M. Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13648"><time datetime="2017-06-19T20:33:50-04:00">19.June.2017 at 20:33</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Karim,<br>
From your description things seem right, i.e., the transformation being 
applied in world space, then put back to voxel coordinates. I wonder if 
the issue hasn’t anything to do with the implementation of the 
reader/writer of the files. Consider perhaps using FSL tools (which have
 a way to apply linear transformations easily).<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13648#respond" data-commentid="13648" data-postid="1143" data-belowelement="comment-13648" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment even depth-3 highlander-comment" id="li-comment-13650">
		<article id="comment-13650" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/f32129d9d532a5fe0d76260c3e8fb0e0.png" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-f32129d9d532a5fe0d76260c3e8fb0e0-0" width="39" height="39"><span class="fn">Karim Makki</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13650"><time datetime="2017-06-19T21:05:58-04:00">19.June.2017 at 21:05</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi  A. M. Winkler,</p>
<p>thanks for your response ! I already use fsl img2imgcoord. But i need
 to implement my own function to warp a point from an image to another 
one .. inorder to speed up my log-demons algorithm which register my 
floating image voxel by voxel, ( i.e i have one transformation per 
voxel: diffeomorphic registration) to align it with the reference 
image..</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13650#respond" data-commentid="13650" data-postid="1143" data-belowelement="comment-13650" data-respondelement="respond" aria-label="Reply to Karim Makki">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-13941">
		<article id="comment-13941" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/6be7afe38afd31dd02fee1e41a30fe98.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-6be7afe38afd31dd02fee1e41a30fe98-0" width="68" height="68"><span class="fn">Jessica</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13941"><time datetime="2017-11-30T07:34:38-05:00">30.November.2017 at 07:34</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Anderson<br>
I have a very basic question to ask. I want to know that Can the Matlab 
open the .nii file? and how to open it?  I’m so sorry to bother you.</p>
<p>Thank you!</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13941#respond" data-commentid="13941" data-postid="1143" data-belowelement="comment-13941" data-respondelement="respond" aria-label="Reply to Jessica">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor even depth-2 highlander-comment" id="li-comment-13943">
		<article id="comment-13943" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-20" width="39" height="39"><span class="fn">A. M. Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-13943"><time datetime="2017-11-30T15:28:50-05:00">30.November.2017 at 15:28</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Jessica,<br>
There are many ways one could open NIFTI files in Matlab: scripts for 
that come with FSL and with FreeSurfer. SPM is written for Matlab and 
also have functions to read and write. There is also Jimmy Shen’s 
toolbox in Matlab’s File Exchange: <a href="https://uk.mathworks.com/matlabcentral/fileexchange/8797-tools-for-nifti-and-analyze-image" rel="nofollow ugc">https://uk.mathworks.com/matlabcentral/fileexchange/8797-tools-for-nifti-and-analyze-image</a>.<br>
It also appears that either the newest release of Matlab or the upcoming one will have native support for NIFTI.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=13943#respond" data-commentid="13943" data-postid="1143" data-belowelement="comment-13943" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="post pingback">
		<p>Pingback: <a href="http://justinblaber.org/nifti-files-in-matlab/" rel="external nofollow ugc" class="url">Working with NIFTI(-1) files (in MATLAB) | justinblaber.org</a></p>
	</li><!-- #comment-## -->
	<li class="post pingback">
		<p>Pingback: <a href="https://www.fmrwhy.com/2018/06/28/spm12-matlab-scripting-tutorial-2/" rel="external nofollow ugc" class="url">SPM12/Matlab scripting tutorial: Post 2 - fMRwhy</a></p>
	</li><!-- #comment-## -->
	<li class="comment odd alt thread-even depth-1 highlander-comment" id="li-comment-16399">
		<article id="comment-16399" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/d8b7f5b26dd49ca96e50afd6dbbe42c9.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-d8b7f5b26dd49ca96e50afd6dbbe42c9-0" width="68" height="68"><span class="fn">DespinaGatz</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-16399"><time datetime="2018-10-26T07:22:08-04:00">26.October.2018 at 07:22</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hello!<br>
I’d like to ask what kind of 3D reconstruction nifti format makes to 
MRIs in order to have a 3D file, rather than many files, each 
representing a 2D slice (like in DICOM format). Sorry if I’m not 
expressing myself correctly, but I’m a bit confused.<br>
Thank you very much</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=16399#respond" data-commentid="16399" data-postid="1143" data-belowelement="comment-16399" data-respondelement="respond" aria-label="Reply to DespinaGatz">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor even depth-2 highlander-comment" id="li-comment-16430">
		<article id="comment-16430" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-21" width="39" height="39"><span class="fn">A. M. Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-16430"><time datetime="2018-10-28T15:42:23-04:00">28.October.2018 at 15:42</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi,</p>
<p>There is nothing special really. The 2D slices are stacked, forming a
 3D file. However, the file format changes: I don’t think DICOM can 
store 3D directly. Plus, DICOM is somewhat a complex format. Instead we 
use NIFTI, as described in the article. There are various tools 
available that allow converting between these, and a great one, that I 
recommend, is Chris Rorden’s dcm2niix: <a href="https://github.com/rordenlab/dcm2niix" rel="nofollow ugc">https://github.com/rordenlab/dcm2niix</a><br>
Hope this helps.<br>
All the best,<br>
Anderson</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=16430#respond" data-commentid="16430" data-postid="1143" data-belowelement="comment-16430" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment odd alt depth-3 highlander-comment" id="li-comment-16441">
		<article id="comment-16441" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/a319683a1bd81b38c5bb0c4341b90fb4.png" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-a319683a1bd81b38c5bb0c4341b90fb4-0" width="39" height="39"><span class="fn">Karim MAKKI</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-16441"><time datetime="2018-10-29T02:44:06-04:00">29.October.2018 at 02:44</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hello,</p>
<p>You can use “dcm2nii” to convert your 2D stacked DICOM slices to a 3D nifti file.<br>
Hope this helps.<br>
All the best,<br>
Karim MAKKI.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=16441#respond" data-commentid="16441" data-postid="1143" data-belowelement="comment-16441" data-respondelement="respond" aria-label="Reply to Karim MAKKI">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1 highlander-comment" id="li-comment-35723">
		<article id="comment-35723" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/99695c60c5c25925480fdd85e085b607.png" class="avatar avatar-68 grav-hashed grav-hijack" id="grav-99695c60c5c25925480fdd85e085b607-0" width="68" height="68"><span class="fn">Tim Schäfer</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-35723"><time datetime="2020-02-27T11:57:18-05:00">27.February.2020 at 11:57</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Anderson, thanks heaps for this 
great and readable description of the NIFTI format. I needed to compute 
the FreeSurfer vox2ras matrix from a NIFTI header (based on sform and/or
 qform), and it worked out thanks to your description.</p>
<p>For those looking for very in-depth info, I can recommend to fully read both this page and the spec at <a href="https://nifti.nimh.nih.gov/pub/dist/src/niftilib/nifti1.h" rel="nofollow ugc">https://nifti.nimh.nih.gov/pub/dist/src/niftilib/nifti1.h</a> . The format is horrible, but it contains some interesting details.</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=35723#respond" data-commentid="35723" data-postid="1143" data-belowelement="comment-35723" data-respondelement="respond" aria-label="Reply to Tim Schäfer">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-andersonwinkler bypostauthor odd alt depth-2 highlander-comment" id="li-comment-35745">
		<article id="comment-35745" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt="" src="nifti_header_info_files/074c1b400a864a806b7242908c1e0a98.jpeg" class="avatar avatar-39 grav-hashed grav-hijack" id="grav-074c1b400a864a806b7242908c1e0a98-22" width="39" height="39"><span class="fn">A. M. Winkler</span> on <a href="https://brainder.org/2012/09/23/the-nifti-file-format/#comment-35745"><time datetime="2020-03-03T19:16:24-05:00">03.March.2020 at 19:16</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Thanks for the comment Tim!</p>
</div>

			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/?replytocom=35745#respond" data-commentid="35745" data-postid="1143" data-belowelement="comment-35745" data-respondelement="respond" aria-label="Reply to A. M. Winkler">Reply <span>↓</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		</ol>

		
		
	
		<div id="respond" class="comment-respond js">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://brainder.org/2012/09/23/the-nifti-file-format/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://brainder.org/wp-comments-post.php" method="post" id="commentform" class="comment-form"><input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="9e19e756f8"><input type="hidden" name="_wp_http_referer" value="/2012/09/23/the-nifti-file-format/">
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest">

<div class="comment-form-field comment-textarea">
	
	<div id="comment-form-comment"><textarea aria-hidden="true" tabindex="-1" style="position: absolute; inset: -999px auto auto 0px; border: 0px none; padding: 0px; box-sizing: content-box; overflow-wrap: break-word; height: 0px !important; min-height: 0px !important; overflow: hidden; transition: none 0s ease 0s; font-family: Arial, Helvetica, Tahoma, Verdana, sans-serif; font-size: 14px; font-weight: 300; font-style: normal; letter-spacing: 0px; text-transform: none; text-decoration: rgba(0, 0, 0, 0.7); word-spacing: 0px; text-indent: 0px; line-height: 22.75px; width: 612.883px;" class="autosizejs ">Enter your comment here...</textarea><textarea id="comment" name="comment" title="Enter your comment here..." placeholder="Enter your comment here..." style="height: 42px; overflow: hidden; overflow-wrap: break-word; resize: none;"></textarea></div>
</div>

<div id="comment-form-identity" style="display: none;">
	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" class="nascar-signin-link" title="Login via Guest">
									</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" class="nascar-signin-link" title="Login via WordPress.com">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"></path></g></svg>				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" class="nascar-signin-link" title="Login via Twitter">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"></path></g></svg>				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" class="nascar-signin-link" title="Login via Facebook">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"></path></g></svg>				</a>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="nifti_header_info_files/ad516503a11cd5ca435acc9bb6523536.png" alt="Gravatar" class="no-grav grav-hashed grav-hijack" id="grav-ad516503a11cd5ca435acc9bb6523536-0" width="25">
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email"></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text"></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="url"></div>
				</div>
			</div>
			
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="nifti_header_info_files/ad516503a11cd5ca435acc9bb6523536.png" alt="WordPress.com Logo" class="no-grav grav-hashed grav-hijack" id="grav-ad516503a11cd5ca435acc9bb6523536-1" width="25">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="">
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="">
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="">
						<p class="comment-form-posting-as pa-wordpress">
			<strong></strong>
			You are commenting using your WordPress.com account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"></path></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="nifti_header_info_files/ad516503a11cd5ca435acc9bb6523536.png" alt="Google photo" class="no-grav grav-hashed grav-hijack" id="grav-ad516503a11cd5ca435acc9bb6523536-2" width="25">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="">
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="">
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="">
						<p class="comment-form-posting-as pa-googleplus">
			<strong></strong>
			You are commenting using your Google account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" x="0px" y="0px" viewBox="0 0 60 60"><path fill="#519bf7" d="M56.3,30c0,-1.6 -0.2,-3.4 -0.6,-5h-3.1H42.2H30v10.6h14.8C44,39.3 42,42 39.1,43.9l8.8,6.8C53,46 56.3,39 56.3,30z"></path><path fill="#3db366" d="M30,57.5c6.7,0 13.1,-2.4 17.9,-6.8l-8.8,-6.8c-2.5,1.6 -5.6,2.4 -9.1,2.4c-7.2,0 -13.3,-4.7 -15.4,-11.2l-9.3,7.1C9.8,51.3 19.1,57.5 30,57.5z"></path><path fill="#fdc600" d="M5.3,42.2l9.3,-7.1c-0.5,-1.6 -0.8,-3.3 -0.8,-5.1s0.3,-3.5 0.8,-5.1l-9.3,-7.1C3.5,21.5 2.5,25.6 2.5,30S3.5,38.5 5.3,42.2z"></path><path fill="#f15b44" d="M40.1,17.4l8,-8C43.3,5.1 37,2.5 30,2.5C19.1,2.5 9.8,8.7 5.3,17.8l9.3,7.1c2.1,-6.5 8.2,-11.1 15.4,-11.1C33.9,13.7 37.4,15.1 40.1,17.4z"></path></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="nifti_header_info_files/ad516503a11cd5ca435acc9bb6523536.png" alt="Twitter picture" class="no-grav grav-hashed grav-hijack" id="grav-ad516503a11cd5ca435acc9bb6523536-3" width="25">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="">
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="">
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="">
						<p class="comment-form-posting-as pa-twitter">
			<strong></strong>
			You are commenting using your Twitter account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"></path></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="nifti_header_info_files/ad516503a11cd5ca435acc9bb6523536.png" alt="Facebook photo" class="no-grav grav-hashed grav-hijack" id="grav-ad516503a11cd5ca435acc9bb6523536-4" width="25">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="">
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="">
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="">
						<p class="comment-form-posting-as pa-facebook">
			<strong></strong>
			You are commenting using your Facebook account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"></path></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

</div>

<script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script>

<div id="comment-form-subscribe" style="display: none;">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;"> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of new comments via email.</label></p><p class="post-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto;"> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog" style="display: inline;">Notify me of new posts via email.</label></p></div>




<p class="form-submit" style="display: none;"><input name="submit" type="submit" id="comment-submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="1143" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="f2c29b87c1"></p>
<input type="hidden" name="genseq" value="1592624969">
<p style="display: none;"></p><input type="hidden" id="ak_js" name="ak_js" value="1592628034851"></form>	</div><!-- #respond -->
	<div style="clear: both"></div>
</div><!-- #comments -->

				
			</div><!-- #content -->
		</div><!-- #primary -->


	</div><!-- #main -->

	<footer id="colophon" role="contentinfo">

			
<div id="supplementary" class="two">
		<div id="first" class="widget-area" role="complementary">
		<aside id="top-posts-6" class="widget widget_top-posts"><h3 class="widget-title">Top Posts &amp; Pages</h3><ul>				<li>
					<a href="https://brainder.org/2012/09/23/the-nifti-file-format/" class="bump-view" data-bump-view="tp" aria-current="page">The NIFTI file format</a>					</li>
								<li>
					<a href="https://brainder.org/2011/08/20/gaussian-kernels-convert-fwhm-to-sigma/" class="bump-view" data-bump-view="tp">Gaussian kernels: convert FWHM to sigma</a>					</li>
								<li>
					<a href="https://brainder.org/2011/09/05/fdr-corrected-fdr-adjusted-p-values/" class="bump-view" data-bump-view="tp">False Discovery Rate: Corrected &amp; Adjusted P-values</a>					</li>
								<li>
					<a href="https://brainder.org/2012/05/11/the-logic-of-the-fisher-method-to-combine-p-values/" class="bump-view" data-bump-view="tp">The logic of the Fisher method to combine P-values</a>					</li>
								<li>
					<a href="https://brainder.org/research/brain-for-blender/" class="bump-view" data-bump-view="tp">Brain for Blender</a>					</li>
								<li>
					<a href="https://brainder.org/2019/12/27/redundancy-in-canonical-correlation-analysis/" class="bump-view" data-bump-view="tp">Redundancy in canonical correlation analysis</a>					</li>
								<li>
					<a href="https://brainder.org/2015/07/29/understanding-the-kinship-matrix/" class="bump-view" data-bump-view="tp">Understanding the kinship matrix</a>					</li>
								<li>
					<a href="https://brainder.org/2015/08/23/the-lady-tasting-tea-and-fishers-exact-test/" class="bump-view" data-bump-view="tp">The lady tasting tea experiment</a>					</li>
				</ul></aside>	</div><!-- #first .widget-area -->
	
		<div id="second" class="widget-area" role="complementary">
		<aside id="blog_subscription-2" class="widget widget_blog_subscription jetpack_subscription_widget"><h3 class="widget-title"><label for="subscribe-field">Follow the blog</label></h3>
			<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="">
									<p>Enter your email address to follow Brainder.org and receive notifications of new posts by email.</p>
					<p id="subscribe-email">
						<input type="text" name="email" style="width: 95%; padding: 1px 10px" placeholder="Enter your email address" id="">					</p>
				
				<p id="subscribe-submit">
                    <input type="hidden" name="action" value="subscribe">
                    <input type="hidden" name="blog_id" value="24487840">
                    <input type="hidden" name="source" value="https://brainder.org/2012/09/23/the-nifti-file-format/">
                    <input type="hidden" name="sub-type" value="widget">
                    <input type="hidden" name="redirect_fragment" value="blog_subscription-2">
					<input type="hidden" id="_wpnonce" name="_wpnonce" value="0cb8d3945a">                    <button type="submit">
	                    Follow                    </button>
                </p>
            </form>
			
</aside><aside id="wpcom_social_media_icons_widget-4" class="widget widget_wpcom_social_media_icons_widget"><h3 class="widget-title">or follow on Twitter:</h3><ul><li><a href="https://twitter.com/AndersonWinkler/" class="genericon genericon-twitter" target="_blank"><span class="screen-reader-text">View AndersonWinkler’s profile on Twitter</span></a></li></ul></aside>	</div><!-- #second .widget-area -->
	
	</div><!-- #supplementary -->
			<div id="site-generator">
				 								<a href="https://wordpress.com/?ref=footer_blog" rel="nofollow">Blog at WordPress.com.</a>
			</div>
	</footer><!-- #colophon -->
</div><!-- #page -->

<!--  -->
<script src="nifti_header_info_files/gprofiles.js"></script>
<script>
var WPGroHo = {"my_hash":""};
</script>
<script type="text/javascript" src="nifti_header_info_files/wpgroho.js"></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-6e0c2b813999322404c84c9b3b9bb097">
	</div>
	<div class="grofile-hash-map-074c1b400a864a806b7242908c1e0a98">
	</div>
	<div class="grofile-hash-map-45f0a3b147a710191c95b82bd73327fa">
	</div>
	<div class="grofile-hash-map-faa40ebd8d47acf45705543af9a3a3b8">
	</div>
	<div class="grofile-hash-map-ff5215727ef228516a0f37dea48b7bb2">
	</div>
	<div class="grofile-hash-map-750415178eb36bde1107d6b071fa72a0">
	</div>
	<div class="grofile-hash-map-ca179afae9dd3a2171807a6dec49a2e7">
	</div>
	<div class="grofile-hash-map-3bdc1e65d1827b43cee33a0175df5ce9">
	</div>
	<div class="grofile-hash-map-6af25178980d2865af31521b667d3d69">
	</div>
	<div class="grofile-hash-map-70ed9ed2bcf372817deeb5296781b8d5">
	</div>
	<div class="grofile-hash-map-fa2a1adf3ecedebfd27dd0080551dbe4">
	</div>
	<div class="grofile-hash-map-fcb510ccbd4bb76ee0725f27db195dc8">
	</div>
	<div class="grofile-hash-map-7d05f27b070106edaa835e523d9775b9">
	</div>
	<div class="grofile-hash-map-e8aa2b1bbc2f5799d628557d7da1a859">
	</div>
	<div class="grofile-hash-map-e5d01cb428f4b22161e0d17895a5c678">
	</div>
	<div class="grofile-hash-map-03d20e1dfddd6c5b08409af4e332a645">
	</div>
	<div class="grofile-hash-map-d6188503d799555d0f3940d29e196d3d">
	</div>
	<div class="grofile-hash-map-a4ec9ae99ed6909f7ae88f2b58810f11">
	</div>
	<div class="grofile-hash-map-b967eea104407c75fc4655a16dbb6b32">
	</div>
	<div class="grofile-hash-map-9fd1f9d14cdde0db5305cad11183e19b">
	</div>
	<div class="grofile-hash-map-f32129d9d532a5fe0d76260c3e8fb0e0">
	</div>
	<div class="grofile-hash-map-6be7afe38afd31dd02fee1e41a30fe98">
	</div>
	<div class="grofile-hash-map-d8b7f5b26dd49ca96e50afd6dbbe42c9">
	</div>
	<div class="grofile-hash-map-a319683a1bd81b38c5bb0c4341b90fb4">
	</div>
	<div class="grofile-hash-map-99695c60c5c25925480fdd85e085b607">
	</div>
	</div>
<script>
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"https:\/\/brainder.wordpress.com\/public.api\/connect\/?action=request&domain=brainder.org","logoutURL":"https:\/\/brainder.wordpress.com\/wp-login.php?action=logout&_wpnonce=03ff249fcf","homeURL":"https:\/\/brainder.org\/","postID":"1143","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"","userIsLoggedIn":"","isJetpack":"","text_direction":"ltr"};
</script>
<script type="text/javascript" src="nifti_header_info_files/a"></script>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"https:\/\/brainder.org\/2012\/09\/23\/the-nifti-file-format\/":1143};
	</script>
					
		<link rel="stylesheet" id="all-css-0-3" href="nifti_header_info_files/genericons.css" type="text/css" media="all">
<script>
var actionbardata = {"siteID":"24487840","siteName":"Brainder.","siteURL":"https:\/\/brainder.org","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/b75c72491241eee24301baf3c72f3448?s=50&d=https%3A%2F%2Fs0.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/twentyeleven","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/wordpress.com\/log-in?redirect_to=https%3A%2F%2Fbrainder.org%2F2012%2F09%2F23%2Fthe-nifti-file-format%2F&signup_flow=account&domain=brainder.org","themeURL":"https:\/\/wordpress.com\/theme\/twentyeleven\/","xhrURL":"https:\/\/brainder.org\/wp-admin\/admin-ajax.php","nonce":"15cdd2ec09","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"0cb8d3945a\" \/>","referer":"https:\/\/brainder.org\/2012\/09\/23\/the-nifti-file-format\/","canFollow":"1","feedID":"6278020","statusMessage":"","customizeLink":"https:\/\/brainder.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fbrainder.wordpress.com%2F2012%2F09%2F23%2Fthe-nifti-file-format%2F","postID":"1143","shortlink":"https:\/\/wp.me\/p1EKpa-ir","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/brainder.org\/1143","statsLink":"https:\/\/wordpress.com\/stats\/post\/1143\/brainder.org","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Twenty Eleven","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/read\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 861 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/wordpress.com\/log-in?redirect_to=https%3A%2F%2Fbrainder.org%2F2012%2F09%2F23%2Fthe-nifti-file-format%2F&signup_flow=account&domain=brainder.org\">Log in now.<\/a>","stats":"Stats"}};
</script>
<script>
var sharing_js_options = {"lang":"en","counts":"1","is_stats_active":"1"};
</script>
<script type="text/javascript" src="nifti_header_info_files/a_002.js"></script><div id="actionbar" class="actnbr-pub-twentyeleven actnbr-has-follow actnbr-hidden"><ul><li class="actnbr-btn actnbr-hidden"> 			    	<a class="actnbr-action actnbr-actn-follow" href=""><svg class="gridicon gridicon__follow" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"></path></g></svg><span>Follow</span></a> 			    	<div class="actnbr-popover tip tip-top-left actnbr-notice"> 			    		<div class="tip-arrow"></div> 			    		<div class="tip-inner actnbr-follow-bubble"></div> 			    	</div> 			    </li><li class="actnbr-ellipsis actnbr-hidden"> 			  <svg class="gridicon gridicon__ellipsis" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><circle cx="5" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="12" cy="12" r="2"></circle></g></svg> 			  <div class="actnbr-popover tip tip-top-left actnbr-more"> 			  	<div class="tip-arrow"></div> 			  	<div class="tip-inner"> 				  <ul> 				    <li class="actnbr-sitename actnbr-hidden"><a href="https://brainder.org/"><img alt="" src="nifti_header_info_files/b75c72491241eee24301baf3c72f3448.png" class="avatar avatar-50" width="50" height="50"> Brainder.</a></li> 				   	<li class="actnbr-folded-customize actnbr-hidden"><a href="https://brainder.wordpress.com/wp-admin/customize.php?url=https%3A%2F%2Fbrainder.wordpress.com%2F2012%2F09%2F23%2Fthe-nifti-file-format%2F"><svg class="gridicon gridicon__customize" height="20px" width="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M2 6c0-1.505.78-3.08 2-4 0 .845.69 2 2 2 1.657 0 3 1.343 3 3 0 .386-.08.752-.212 1.09.74.594 1.476 1.19 2.19 1.81L8.9 11.98c-.62-.716-1.214-1.454-1.807-2.192C6.753 9.92 6.387 10 6 10c-2.21 0-4-1.79-4-4zm12.152 6.848l1.34-1.34c.607.304 1.283.492 2.008.492 2.485 0 4.5-2.015 4.5-4.5 0-.725-.188-1.4-.493-2.007L18 9l-2-2 3.507-3.507C18.9 3.188 18.225 3 17.5 3 15.015 3 13 5.015 13 7.5c0 .725.188 1.4.493 2.007L3 20l2 2 6.848-6.848c1.885 1.928 3.874 3.753 5.977 5.45l1.425 1.148 1.5-1.5-1.15-1.425c-1.695-2.103-3.52-4.092-5.448-5.977z" data-reactid=".2.1.1:0.1b.0"></path></g></svg><span>Customize<span></span></span></a></li> 				    <li class="actnbr-folded-follow actnbr-hidden"><a class="actnbr-action actnbr-actn-follow" href=""><svg class="gridicon gridicon__follow" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"></path></g></svg><span>Follow</span></a></li> 					<li class="actnbr-signup actnbr-hidden"><a href="https://wordpress.com/start/">Sign up</a></li> 				    <li class="actnbr-login actnbr-hidden"><a href="https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fbrainder.org%2F2012%2F09%2F23%2Fthe-nifti-file-format%2F&amp;signup_flow=account&amp;domain=brainder.org">Log in</a></li> 				     				    <li class="actnbr-shortlink actnbr-hidden"><a href="https://wp.me/p1EKpa-ir">Copy shortlink</a></li> 				    <li class="flb-report actnbr-hidden"><a href="http://en.wordpress.com/abuse/">Report this content</a></li> 				     				     				    <li class="actnbr-subs actnbr-hidden"><a href="https://subscribe.wordpress.com/">Manage subscriptions</a></li> 				    <li class="actnbr-fold actnbr-hidden"><a href="">Collapse this bar</a></li> 			      </ul> 			    </div> 		      </div> 		    </li> 	      </ul></div>
<script type="text/javascript">
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-linkedin', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-tumblr', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtumblr', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-pocket', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcompocket', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
</script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script>		<iframe src="nifti_header_info_files/master.html" scrolling="no" id="likes-master" name="likes-master" style="display:none;"></iframe>
		<div id="likes-other-gravatars"><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
<script src="nifti_header_info_files/w.js" type="text/javascript" async="" defer="defer"></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'24487840','blog_tz':'-4','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'24487840','v':'wpcom','tz':'-4','user_id':'0','post':'1143','subd':'brainder'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1dzK3YrWW1CbjZiL2VlLnR6QkUsbDdSejJMclp1JjF8LWJsMi1MWEE1Ll83OXUvaHxXcXxsXzVwWTlWbzZdOF10Rkt+enlPejFSTmM2TGU1LT00U1JJVmpfMFc5UG0wVUQwL1lLNC5EZ1dxR0JOeklIbGZsNUhNU1tiMnp+VnZ8d1NGcE9oZ2gvLy9XSFB8OFV+OXZzN35HdG0wYn5LcnhIeTJrc005VzVPeVVyJixrZF1MNi9yckErTS9fTlJyaGt+VU9bczR6RG5fNmV6bWptR3lNY1V4JlhHRzFpYytfRXwrOFBqUVBLQiVxLS5wZk4wdl9+MVtlSkxs'}]);
_stq.push([ 'clickTrackerInit', '24487840', '1143' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
		<script defer="defer" src="data:text/javascript,%21function%28%29%7B%22use%20strict%22%3Bvar%20e%3D%5B%5D%2Ct%3D%22wpcom.simple.ttfb.batcache.%22%3Btry%7Bfor%28var%20n%3Dperformance.getEntriesByType%28%22navigation%22%29%5B0%5D%7C%7C%7B%7D%2Co%3D0%2Cs%3Ddocument.body.childNodes%2Cc%3Ds.length-1%3Bc%3E%3D0%3Bc--%29s%5Bc%5D.nodeType%3D%3D%3DNode.COMMENT_NODE%26%26s%5Bc%5D.textContent.indexOf%28%22served%20from%20batcache%22%29%3E0%26%26%28o%3D1%29%3Bvar%20r%3DMath.round%28n.responseStart%7C%7C0%29%3Bif%28r%3E0%26%26%28o%3Fe.push%28t%2B%22hit%3A%22%2Br%2B%22%7Cms%22%29%3Ae.push%28t%2B%22miss%3A%22%2Br%2B%22%7Cms%22%29%29%2Ce.length%29document.createElement%28%22img%22%29.src%3D%22https%3A%2F%2Fpixel.wp.com%2Fboom.gif%3Fjson%3D%22%2BencodeURIComponent%28JSON.stringify%28%7Bbeacons%3Ae%7D%29%29%7Dcatch%28e%29%7B%7D%7D%28%29%3B"></script>
		<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>

<img src="nifti_header_info_files/g.gif" alt=":)" id="wpstats"><div id="sharing_email" style="display: none;">
		<form action="/2012/09/23/the-nifti-file-format/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email">

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name">

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email">

						<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" size="25" autocomplete="off" title="This field is for validation and should not be changed">
			
			<div class="g-recaptcha" data-sitekey="6LcmyE0UAAAAALID28yVNg7pFCodGaArJzHitez_" data-theme="light" data-type="image" data-tabindex="0"><div style="width: 304px; height: 78px;"><div><iframe src="nifti_header_info_files/anchor.html" role="presentation" name="a-rniosasc1v9z" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" width="304" height="78" frameborder="0"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;"></iframe></div>
			<script type="text/javascript" src="nifti_header_info_files/api.js" async=""></script>
			
			<img style="float: right; display: none" class="loading" src="nifti_header_info_files/loading.gif" alt="loading" width="16" height="16">
			<input type="submit" value="Send Email" class="sharing_send">
			<a rel="nofollow" href="#cancel" class="sharing_cancel" role="button">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div><iframe style="display: none;" scrolling="no" id="wpcom_remote_login_key" src="nifti_header_info_files/remote-login.html"></iframe><iframe scrolling="no" allowtransparency="true" src="nifti_header_info_files/widget_iframe.html" title="Twitter settings iframe" style="display: none;" frameborder="0"></iframe><div style="background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); box-shadow: rgba(0, 0, 0, 0.2) 2px 2px 3px; position: absolute; transition: visibility 0s linear 0.3s, opacity 0.3s linear 0s; opacity: 0; visibility: hidden; z-index: 2000000000; left: 0px; top: -10000px;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: rgb(255, 255, 255); opacity: 0.05;"></div><div style="border: 11px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;" class="g-recaptcha-bubble-arrow"></div><div style="border: 10px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;" class="g-recaptcha-bubble-arrow"></div><div style="z-index: 2000000000; position: relative;"><iframe title="recaptcha challenge" src="nifti_header_info_files/bframe.html" style="width: 100%; height: 100%;" name="c-rniosasc1v9z" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" frameborder="0"></iframe></div></div></body></html>